/* ============ 基本 ============ */
:root{
  /* 固定ボード寸法 */
  --board-w: 1280px;
  --board-h: 820px;

  /* グリッド総数：X=0..100, Y=0..68 */
  --grid-x: 100;
  --grid-y: 68;
}

*{ box-sizing: border-box; }
html,body{ height:100%; margin:0; }
body{
  background:#f6f6f6;
  color:#111;
  font: 500 14px/1.4 -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, "Noto Sans JP", sans-serif;
}

/* 画面中央へ固定ボードを配置 */
.fit{
  min-height:100%;
  display:grid;
  place-items:center;
  padding:24px 16px;
}

/* 固定サイズのワークボード */
.board{
  position:relative;
  width: var(--board-w);
  height: var(--board-h);
  background:#fff;
  border-radius: 0;
}

/* ============ グリッド座標ヘルパ ============ */
/* 各要素は --x1, --x2, --y1, --y2 を “グリッド値”で指定（%換算で絶対配置） */
.pos{
  position:absolute;
  left:  calc((var(--x1) / var(--grid-x)) * 100%);
  top:   calc((var(--y1) / var(--grid-y)) * 100%);
  width: calc(((var(--x2) - var(--x1)) / var(--grid-x)) * 100%);
  height:calc(((var(--y2) - var(--y1)) / var(--grid-y)) * 100%);
}

/* ============ ヘッダー系 ============ */
.title{
  margin:0;
  font-size:20px;
  display:flex;
  align-items:center;
}
.next-step{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  text-decoration:none;
  color:#111;
  font-size:13px;
}
.categories{
  display:flex;
  gap:8px;
  align-items:center;
}
.categories img{ height:18px; width:auto; display:block; }

/* ============ キャンバス ============ */
.stage{
  background:#fff;
  border-radius:16px;
  box-shadow: inset 0 0 0 2px #d9d9d9;
  overflow:hidden;
}
.mannequin{
  object-fit:contain;
  width:auto; height:auto; /* pos で枠を取っているので自動調整 */
  max-width:100%; max-height:100%;
}
.opacity-slider{
  display:flex;
  gap:8px;
  align-items:center;
  pointer-events:none;     /* 見た目だけ（必要なら外して） */
}
.opacity-slider .val{ font-size:11px; color:#333; }
.opacity-slider .track{
  position:relative;
  height:6px;
  flex:1;
  background:#bdbdbd;
  border-radius:4px;
}
.opacity-slider .thumb{
  position:absolute; top:50%; transform:translate(-50%,-50%);
  width:10px; height:10px; border-radius:50%;
  background:#4a90e2;
}

/* ============ IO（DL/UP/SAVE） ============ */
.io-buttons{
  display:flex; gap:10px; align-items:center; justify-content:flex-end;
}
.io-buttons button{
  width:22px; height:22px; padding:0; border:0; background:transparent;
}
.io-buttons img{ width:100%; height:100%; object-fit:contain; }

/* ============ レイヤー ============ */
.layer-btn, .layer-op{ width:22px; height:22px; }
.layer-btn img, .layer-op img{ width:100%; height:100%; object-fit:contain; }

.layer-board{
  background:#fff;
  border:1px solid #dcdcdc;
  border-radius:8px;
  padding:6px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.layer-row{
  height:22px;
  padding:0 8px;
  border-radius:6px;
  background:#f2f2f2;
  display:flex; align-items:center; justify-content:space-between;
  font-size:12px; color:#333;
}
.layer-row.active{ background:#e7f1ff; }

/* ============ ツール＆パレット ============ */
.tools{
  display:flex; flex-direction:column; gap:8px; align-items:center;
}
.tools .tool{
  width:26px; height:26px; padding:0; border:0; background:transparent;
}
.tools .tool img{ width:100%; height:100%; object-fit:contain; }

.palette{
  display:flex; flex-direction:column;
  gap:8px; align-items:center; justify-content:flex-start;
}
.palette button{
  width:22px; height:22px; border-radius:50%;
  border:1px solid #d0d0d0; background: var(--c, #999);
}
