/* =========================
   Vivora Fashion Illustration 2025
   style.css
========================= */
:root{
  --bg:#f3ece7;
  --panel:#f7f2ee;
  --line:#e1d9d4;
  --text:#333;
  --accent:#222;
  --shadow:0 6px 18px rgba(0,0,0,.06);
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,"Helvetica Neue",Arial,sans-serif;
}

/* = Layout = */
.app{
  display:grid;
  grid-template-columns: 1fr 340px;
  grid-template-rows: auto 1fr;
  grid-template-areas:
    "header  sidebar"
    "canvas  sidebar";
  height:100vh;
}

header{
  grid-area:header;
  display:flex;
  align-items:center;
  gap:16px;
  padding:12px 16px;
  border-bottom:1px solid var(--line);
}

h1{
  font:500 18px/1 'Playfair Display',serif;
  color:#222;
  margin-right:auto;
}

/* Gender */
.gender{display:flex;gap:6px}
.gbtn{
  border:1px solid var(--line);
  background:#fff;
  padding:6px 12px;
  border-radius:16px;
  cursor:pointer;
  font-size:13px;
}
.gbtn.active{background:var(--accent);color:#fff;border-color:var(--accent)}

/* = Canvas side = */
.canvas-area{
  grid-area:canvas;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.toolbar{
  display:flex;
  gap:16px;
  align-items:center;
  padding:12px 16px;
  border-bottom:1px solid var(--line);
  background:#fbf8f6;
}

.tool-btn{
  background:transparent;
  border:none;
  cursor:pointer;
  opacity:.85;
}
.tool-btn:hover{opacity:1}
.tool-btn img{width:24px;height:24px;display:block}

.board{
  position:relative;
  flex:1;
  margin:16px;
  background:#fff;
  border:1px solid var(--line);
  border-radius:10px;
  box-shadow:var(--shadow);
  overflow:hidden;
}

/* Grid paper */
.board.grid::before{
  content:"";
  position:absolute;inset:0;
  background-image:
    linear-gradient(rgba(0,0,0,.06) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,.06) 1px, transparent 1px);
  background-size: 24px 24px;
  pointer-events:none;
}

/* Stage (pan/zoom target) */
#stage{
  position:absolute;
  left:0; top:0;
  transform-origin:0 0;
  touch-action:none;
  cursor:grab;
}
#stage.grabbing{cursor:grabbing}

.mannequin-base{
  display:block;
  max-width:none;
  width:600px;   /* initial visual width */
  height:auto;
  user-select:none;
  -webkit-user-drag:none;
}

/* Overlay parts */
.overlay-item{
  position:absolute;
  left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:45%;
  aspect-ratio:3/4;
  pointer-events:auto;
}
.overlay-item img{
  width:100%; height:100%;
  object-fit:contain;
  user-select:none; -webkit-user-drag:none;
}
.overlay-item.selected-layer{
  outline:2px dashed #6c5ce7; outline-offset:2px;
}
.overlay-item .tint{
  position:absolute; inset:0;
  pointer-events:none;
  border-radius:4px;
  mix-blend-mode:multiply;
}

/* = Sidebar = */
aside{
  grid-area:sidebar;
  padding:16px;
  border-left:1px solid var(--line);
  background:var(--panel);
  overflow:auto;
}
.panel{
  background:#fff;
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px;
  margin-bottom:12px;
  box-shadow:var(--shadow);
}
.slim-panel{padding:8px}
.panel h3{
  font:500 16px/1 'Playfair Display',serif;
  margin-bottom:10px;
}

/* Existing data slots */
.row-between{display:flex;align-items:center;gap:8px}
.slot-strip{display:flex;gap:8px}
.slot-card{
  width:60px;height:60px;
  border:1px solid var(--line);
  background:#fff;
  border-radius:12px;
  font:700 18px/1 system-ui;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;
}
.arrow-small{
  background:#fff;border:1px solid var(--line);
  width:26px;height:26px;border-radius:6px;cursor:pointer;
}

/* Pose */
.pose-row{display:flex;gap:8px;overflow:auto}
.pose-row img{
  width:56px;height:84px;
  object-fit:contain;
  border:2px solid transparent;
  border-radius:10px;
  padding:2px;background:#fff;
  cursor:pointer;
}
.pose-row img.selected{border-color:#222}

/* Stationery / Color grid */
.grid-4{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:8px;
}
.tool-tile,.color-tile{
  width:54px;height:54px;
  border:1px solid var(--line);
  border-radius:10px;
  background:#fff;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:.15s;
}
.tool-tile:hover,.color-tile:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 18px rgba(0,0,0,.08);
}
.tool-tile img{width:28px;height:28px}
.color-tile{border:none}
.color-tile.add{
  font-size:22px;color:#bbb;
  border:1px dashed var(--line);background:#fafafa;
}

/* Zoom & Opacity controls */
.control-row{display:flex;align-items:center;gap:8px}
.s-btn{
  width:28px;height:28px;
  border:1px solid var(--line);
  background:#fff;border-radius:6px;
  cursor:pointer;
}
.tiny{
  border:1px solid var(--line);
  background:#fff;
  padding:4px 8px;
  border-radius:6px;
  font-size:12px;
  cursor:pointer;
}
.hint{margin-top:6px;font-size:12px;opacity:.75}

/* Inputs look */
input[type="range"]{
  width:100%;
  accent-color:#3b82f6; /* modern browsers */
}
