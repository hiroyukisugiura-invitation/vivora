/* vivora_illustrations_grid.css */
/* 基本：1280×820 / GRID 100×70（X=12.8px, Y≈11.714px） */
:root{
  --board-w: 1280px;
  --board-h: 820px;
  --grid-x: 100;
  --grid-y: 70;
  --ux: calc(var(--board-w) / var(--grid-x));
  --uy: calc(var(--board-h) / var(--grid-y));

  --bg: #f3eadf;
  --stage: #ffffff;
  --stage-border: #cfc9bf;

  --r: 14px;
}

*{ box-sizing:border-box; }
html,body{
  height:100%; margin:0; background:var(--bg); color:#1b1b1b;
  font-family:"Inter",system-ui,-apple-system,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif;
}

.fit{ min-height:100vh; }
.board{
  position:relative;
  width:var(--board-w); height:var(--board-h);
  margin:16px auto;
  transform-origin: top center;
  --sx: calc((100vw - 16px) / var(--board-w));
  --sy: calc((100vh - 16px) / var(--board-h));
  transform: scale(min(var(--sx), var(--sy)));
}

/* グリッド座標配置（幅/高さは最低1マス確保） */
.g{
  position:absolute;
  left:   calc(var(--x1) * var(--ux));
  top:    calc(var(--y1) * var(--uy));
  width:  calc((max(var(--x2), calc(var(--x1) + 1)) - var(--x1)) * var(--ux));
  height: calc((max(var(--y2), calc(var(--y1) + 1)) - var(--y1)) * var(--uy));
}

/* タイトル */
.title{
  display:flex; align-items:center;
  font-size:10px; line-height:1; font-weight:500; letter-spacing:.2px;
}

/* コンテンツボタン（高さ1マス） */
.contents{ display:flex; align-items:center; justify-content:flex-end; gap:6px; }
.contents img{ height:10px; width:auto; display:block; image-rendering:-webkit-optimize-contrast; }

/* IO（縦3つ、領域4マス） */
.io{ display:grid; grid-template-rows: repeat(3, 12px); gap:4px; justify-items:center; align-content:center; }
.io img{ height:12px; width:auto; display:block; }

/* ステージ */
.stage{
  background:var(--stage);
  border:1px solid var(--stage-border);
  border-radius:var(--r);
}

/* マネキン（枠内フィット） */
.mannequin{
  object-fit:contain; width:100%; height:100%;
  filter: contrast(0.98) saturate(0.94);
  image-rendering:-webkit-optimize-contrast;
}

/* ツール列：領域 Y:14-39（約293px） */
.tools{
  display:grid; grid-auto-rows:22px; gap:4px; align-content:start; justify-items:center;
}
.tool{
  width:100%; height:100%;
  background:#fff; border:1px solid #ddd8cf; border-radius:8px;
  display:grid; place-items:center;
}
.tool img{ width:16px; height:16px; display:block; }
.tool.active{ outline:1px solid #5a8dee; }

/* パレット：領域 Y:41-68（約316px） */
.palette{
  display:grid; grid-auto-rows:20px; gap:6px; align-content:start; justify-items:center;
}
.palette i{
  width:20px; height:20px; border-radius:50%;
  background:var(--c,#ccc);
  border:1px solid rgba(0,0,0,.18);
}

/* 透明度スライダー：X:86-92 , Y:36-37.5 */
.opacity{ display:grid; grid-template-columns:auto; justify-items:center; gap:4px; }
.opacity.hidden{ display:none; }
.zl{
  font-size:9px; line-height:1;
  background:#fff; border:1px solid #ddd8cf; border-radius:6px; padding:1px 4px;
}
.zb{
  position:relative; width:100%; height:8px;
  background:#ece8df; border:1px solid #d7d1c7; border-radius:999px;
}
.zb i{
  position:absolute; top:-3px; width:12px; height:12px; border-radius:50%;
  background:#5ea3ff; border:1px solid #507fbe;
}
