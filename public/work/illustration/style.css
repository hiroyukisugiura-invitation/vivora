/* ===================================================
   Vivora Fashion Illustration 2025 — 固定UI（1280×800）
   - Topbar：左=Next+contents（Nextは左上）/ 中央=Title / 右=History
   - Board（canvas）：mannequin + stationery + 右レール群（見た目）
   =================================================== */
:root{
  --bg:#e9e1d7;
  --panel:#ffffff;
  --tile:#ece7e1;
  --line:#d8d0c7;
  --text:#2a2a2a;

  --board-w:1280px;
  --board-h:800px;
  --r:12px;
  --shadow:0 2px 8px rgba(0,0,0,.08);

  --icon:22px;
  --gap:12px;
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:"Helvetica Neue", Arial, system-ui, sans-serif;
  overflow:hidden;
}

.app{
  width:100vw; height:100vh;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
}

/* ===== Topbar（canvasの外） ===== */
.topbar{
  width:var(--board-w);
  height:72px;
  display:grid;
  grid-template-columns: 1fr auto 1fr; /* 左 / 中央 / 右 */
  align-items:center;
  margin-bottom:10px;
  position:relative;
}

/* 左：Next + contents（タイル化） */
.topbar-left{ justify-self:start; }
.contents-tile{
  position:relative;
  background:var(--tile);
  border:1px solid var(--line);
  border-radius:10px;
  padding:10px 12px;
  display:flex; align-items:center; gap:12px;
}
.ghost-btn{
  position:absolute; top:-26px; left:-2px;   /* ← 左上に浮かせる */
  appearance:none; border:none; background:#f5f0ea;
  color:#333; font-size:12px; padding:4px 8px;
  border-radius:6px; box-shadow: inset 0 0 0 1px var(--line);
  cursor:pointer;
}
.contents-button{ display:flex; gap:12px; align-items:center; }
.contents-button img{ width:28px; height:28px; display:block; }

/* 中央：ページタイトル */
.page-title{
  margin:0; font-size:18px; font-weight:500; letter-spacing:.2px;
  justify-self:center;
}

/* 右：history */
.history-tool{
  display:flex; gap:14px; align-items:center; justify-self:end;
}
.history-tool img{ width:22px; height:22px; display:block; }

/* ===== Board（canvas 本体） ===== */
.board{
  position:relative;
  width:var(--board-w);
  height:var(--board-h);
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--r);
  box-shadow:var(--shadow);
  overflow:hidden;
}

/* Canvas */
.canvas-wrapper{
  position:absolute; top:18px; left:18px;
  width:calc(100% - 36px);
  height:calc(100% - 36px);
  background:transparent;
  border:none; border-radius:10px;
  overflow:visible;
}

/* Stationery（canvas内 右上） */
.stationery-toolbar{
  position:absolute; top:10px; right:192px;   /* 右レール群の左に寄せる */
  display:flex; gap:var(--gap); align-items:center; z-index:3;
}
.stationery-toolbar img{
  width:var(--icon); height:var(--icon);
  user-select:none; -webkit-user-drag:none; display:block;
}

/* 右側レール群（見た目のみ） */
.tool-rails{
  position:absolute; top:10px; right:10px; bottom:10px;
  display:grid; grid-template-columns: 28px 46px 24px 110px; /* DD / color / opacity / layer */
  align-items:start; gap:10px;
}

/* drop-down tool（縦3つの小ボタン） */
.dropdown-rail{ display:flex; flex-direction:column; gap:10px; }
.dd-icon{
  width:28px; height:28px; border:1px solid var(--line); border-radius:6px;
  background:#fff; display:block;
}

/* color panel（縦カラー） */
.color-rail{
  display:flex; flex-direction:column; gap:8px;
  padding:8px 10px; background:#fff; border:1px solid var(--line); border-radius:10px;
}
.color-rail span{
  --size:24px;
  width:var(--size); height:var(--size);
  border-radius:50%; background:var(--c, #ccc);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.08);
}

/* opacity bar（縦スライダー風） */
.opacity-rail{
  padding:8px 6px; background:#fff; border:1px solid var(--line); border-radius:10px;
}
.op-track{
  position:relative; width:8px; height:360px;
  background:linear-gradient(#000, #fff); border-radius:10px;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.08);
}
.op-thumb{
  position:absolute; left:50%; transform:translate(-50%, -50%);
  top:var(--y, 50%);
  width:20px; height:6px; border-radius:3px; background:#333;
}

/* layer panel（縦カード） */
.layer-rail{
  display:flex; flex-direction:column; gap:10px;
  padding:8px; background:#fff; border:1px solid var(--line); border-radius:10px; width:110px;
}
.layer-card{
  width:100%; height:140px; border:1px solid var(--line); border-radius:8px; background:#fafafa;
  display:grid; grid-template-rows: 22px 1fr 22px;
}
.layer-header{ padding:2px 6px; display:flex; justify-content:flex-end; align-items:center; }
.layer-header .lock{ width:12px; height:12px; border:1px solid var(--line); border-radius:3px; display:inline-block; }
.layer-body{ margin:4px; background:#fff; border:1px dashed var(--line); border-radius:6px; }
.layer-footer{ padding:0 6px; display:flex; gap:6px; align-items:center; justify-content:flex-end; }
.layer-footer span{ width:10px; height:10px; border:1px solid var(--line); border-radius:2px; display:inline-block; }
.layer-plus{
  width:100%; height:28px; border:1px solid var(--line); border-radius:8px; background:#f5f0ea; cursor:pointer;
}
.layer-trash{
  width:100%; height:28px; border:1px solid var(--line); border-radius:8px; background:#fff url('') center/14px 14px no-repeat; cursor:pointer;
}

/* Mannequin（中央） */
#mannequin{
  position:absolute; top:50%; left:50%;
  transform:translate(-50%, -50%);
  height:85%; pointer-events:none; z-index:1;
}
