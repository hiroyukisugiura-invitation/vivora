/* =======================================================================
   Vivora Fashion Illustration 2025
   固定サイズ 1280x820 / 座標グリッド( X:0..100, Y:0..70 )
   本ページ専用のスコープ（他ページに影響させない）
   ======================================================================= */

/* ---- スコープ：このページだけ ---- */
body[data-illustration]{
  margin: 0;
  background: #e9e2d6;  /* 明るいベージュ（背景） */
  color: #1b1b1b;
  font-family: "Times New Roman", Georgia, serif;
}

/* 既存テーマの強い指定を最小限リセット（必要時のみ !important） */
body[data-illustration] .frame,
body[data-illustration] .canvas{
  background-color: initial;
}

/* ---- フレーム：1280 x 820 ---- */
.frame{
  position: relative;
  width: 1280px;
  height: 820px;
  margin: 12px auto;
  background: #e9e2d6;
  border: 2px solid #cfc8ba;
  border-radius: 10px;
  box-shadow: 0 1px 0 #fff inset;
}

/* ---- “座標”で配置する共通クラス -----------------------------------------
   --x1, --x2 は Xグリッド（0..100）
   --y1, --y2 は Yグリッド（0..70）
   left   = x1%
   right  = (100 - x2)%
   top    = y1 * (100% / 70)
   bottom = (70 - y2) * (100% / 70)
------------------------------------------------------------------------- */
.abs{ position:absolute; }
.zone{
  left:   calc(var(--x1) * 1%);
  right:  calc((100 - var(--x2)) * 1%);
  top:    calc(var(--y1) * (100% / 70));
  bottom: calc((70 - var(--y2)) * (100% / 70));
}

/* ---- タイトル / Next --------------------------------------------------- */
h1{
  margin:0;
  font-size: 18px;
  line-height: 1;
  display:flex; align-items:center;
}
.next-btn{
  font: inherit;
  padding: 4px 10px;
  background:#f2efe8;
  border:1px solid #b9b2a6;
  border-radius: 4px;
  cursor:pointer;
}

/* ---- 右上ツールバー & IOツールバー ------------------------------------- */
.top-toolbar ul,
.io-toolbar ul{
  margin:0; padding:0; list-style:none;
  display:flex; gap:8px; align-items:center; justify-content:flex-end;
}
.ico{
  width:20px; height:20px; background:#f6f3ee;
  border:1px solid #8f877a; border-radius:4px;
}
.ico.small{ width:18px; height:18px; }

/* ---- キャンバス --------------------------------------------------------- */
.canvas{
  background:#fff;
  border-radius: 12px;
  box-shadow: inset 0 0 0 1px #d8d3c7;
  overflow:hidden;
}

/* キャンバス内グリッド（graph-onで有効） */
.canvas.graph-on{
  background:
    linear-gradient(#ffffff, #ffffff),
    repeating-linear-gradient(0deg, #e9e9e9 0, #e9e9e9 1px, #ffffff 1px, #ffffff 11px),
    repeating-linear-gradient(90deg, #e9e9e9 0, #e9e9e9 1px, #ffffff 1px, #ffffff 11px);
  background-blend-mode: normal, multiply, multiply;
}

/* マネキン画像（座標で拡縮） */
.mannequin{
  object-fit: contain;
  pointer-events: none;
  filter: contrast(.95) saturate(.9);
}

/* ---- レイヤーUI -------------------------------------------------------- */
.layer-board{
  background:#f7f7f7;
  border:1px solid #cfc8ba;
  border-radius:6px;
}
.layer-ops .ico{
  position:absolute;
  transform: translate(-50%, -50%);
  background:#f6f3ee;
}

/* ---- ステーショナリー縦列・パレット ------------------------------------- */
.tools-vertical ul{
  position:absolute; inset:0;
  margin:0; padding:8px 6px; list-style:none;
  display:flex; flex-direction:column; gap:8px; align-items:center;
}
.tools-vertical .tool{
  width:22px; height:22px;
  border:1px solid #8f877a; border-radius:6px; background:#fff;
}

.palette ul{
  position:absolute; inset:0;
  margin:0; padding:8px 10px; list-style:none;
  display:flex; flex-direction:column; gap:8px; align-items:center; justify-content:flex-start;
}
.palette li{
  width:20px; height:20px; border-radius:50%;
  border:1px solid #7b7367;
  background: var(--c, #ddd);
}

/* ---- 透明度スライダー（見た目のみ） ------------------------------------ */
.opacity-slider{ display:flex; align-items:center; gap:8px; }
.opacity-slider .track{
  position:relative; flex:1; height:6px; border-radius:999px;
  background:linear-gradient(to right, rgba(0,0,0,.12), rgba(0,0,0,.65));
}
.opacity-slider .thumb{
  position:absolute; top:50%; transform:translate(-50%, -50%);
  width:14px; height:14px; border-radius:50%;
  background:#fff; border:1px solid #777;
}
.opacity-slider .pct{ font-size:12px; opacity:.7; }

/* ---- 画面全体に薄いマス目（必要な場合のみ .grid-on を main に付与） ----- */
.frame.grid-on{
  background:
    linear-gradient(#e9e2d6, #e9e2d6),
    linear-gradient(#0000, #0000),
    repeating-linear-gradient(0deg, rgba(0,0,0,.05) 0, rgba(0,0,0,.05) 1px, #e9e2d6 1px, #e9e2d6 18px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.05) 0, rgba(0,0,0,.05) 1px, #e9e2d6 1px, #e9e2d6 18px);
  background-blend-mode: normal, normal, multiply, multiply;
}
