:root{
  --board-w: 1280px;
  --board-h: 820px;
  --bg: #e8e2d7;
  --ink: #1b1b1b;
  --stage: #fff;
  --stage-border: #cfc9bf;
  --panel: #ede7dd;
  --shadow: 0 2px 2px rgba(0,0,0,.06);
  --r: 14px;
}

html,body{
  height:100%; margin:0;
  background:var(--bg); color:var(--ink);
  font-family: "Inter","Helvetica Neue",Arial,system-ui;
  overflow:auto; /* ★ スクロール可に変更 */
}

/* fit */
.fit{height:100%; display:grid; place-items:center;}
.fit>.board{
  width:var(--board-w); height:var(--board-h);
  transform-origin: top center;
  --sx: calc(100vw / var(--board-w));
  --sy: calc(100vh / var(--board-h));
  --s: min(var(--sx), var(--sy));
  transform: scale(calc(var(--s) * 0.90));
}

/* board */
.board{
  display:grid; grid-template-rows: 60px 1fr; gap:14px;
}

/* header */
.topbar{
  display:grid; grid-template-columns:1fr auto; align-items:center;
  padding:0 8px;
}
.app-title{margin:0; font-size:20px; font-weight:500;}
.top-actions{display:flex; gap:12px; align-items:center;}
.contents-buttons{display:flex; gap:10px;}
.contents-buttons img{width:22px; height:22px;}
.next-btn{font-size:12px; text-decoration:none; color:#111;}

/* main */
.main{
  display:grid; grid-template-columns:1fr 300px; gap:16px;
  height:100%;
}

/* stage */
.stage{
  background:var(--stage);
  border:1px solid var(--stage-border);
  border-radius:var(--r);
  position:relative;
}
.mannequin{
  position:absolute; top:50%; left:50%;
  transform:translate(-50%,-50%);
  width:240px; height:auto;
}
.opacity-ui{
  position:absolute; right:40px; top:44%;
  display:grid; gap:6px; justify-items:center;
}
.zoom-label{font-size:12px; background:#fff; padding:2px 6px; border:1px solid #ccc;}
.zoom-bar{width:120px; height:10px; background:#eee; border-radius:6px; border:1px solid #ccc; position:relative;}
.zoom-bar i{position:absolute; top:-3px; width:14px; height:14px; background:#5ea3ff; border-radius:50%;}

/* right panel */
.rightpanel{
  background:var(--panel); border:1px solid #ccc; border-radius:10px;
  padding:10px; display:grid; grid-template-rows:auto auto auto 1fr; gap:12px;
}
.quick-io{display:flex; gap:10px; justify-content:flex-end;}
.quick-io img{width:20px; height:20px;}

.tools{
  display:grid; grid-auto-rows:36px; gap:8px; justify-items:end;
}
.tool{width:36px; height:36px; background:#fff; border:1px solid #ccc; border-radius:8px; display:grid; place-items:center;}
.tool img{width:20px; height:20px;}

.palette{
  display:grid; grid-auto-rows:28px; gap:8px; justify-items:end;
}
.palette i{
  width:28px; height:28px; border-radius:50%; border:1px solid #aaa;
  background:var(--c,#ccc);
}

.layers{
  display:grid; grid-auto-rows:140px; gap:10px; overflow:auto;
}
.layer-card{
  background:#fff; border:1px solid #ccc; border-radius:10px;
  display:grid; grid-template-rows:30px 1fr 30px;
}
.layer-head{display:flex; gap:8px; justify-content:flex-end; padding:6px;}
.layer-head img{width:16px; height:16px;}
.layer-body{margin:8px; border:1px dashed #ccc; border-radius:6px;}
.layer-foot{display:flex; gap:8px; justify-content:flex-end; padding:6px;}
.layer-foot img{width:16px; height:16px;}
