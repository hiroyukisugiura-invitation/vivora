/* work/illustration/style.css */
:root{
  --board-w:1280px; --board-h:820px;
  --bg:#f5ede3; --ink:#1b1b1b;
  --stage:#fff; --stage-bd:#cfc9bf; --stage-r:12px;
  --tile-bg:#fff; --tile-bd:#ddd8cf; --tile-r:9px;
  --shadow:0 1px 0 rgba(0,0,0,.03);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:"Inter","Helvetica Neue",Arial,system-ui,-apple-system,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif}

.fit{min-height:100vh}
.board{
  width:var(--board-w);height:var(--board-h);margin:14px auto;
  transform-origin:top center;
  --sx:calc(100vw/var(--board-w)); --sy:calc(100vh/var(--board-h)); --s:min(var(--sx),var(--sy));
  transform:scale(calc(var(--s)*0.98));
  display:grid;grid-template-rows:74px 1fr;gap:12px;
}

/* header */
.topbar{display:flex;justify-content:space-between;align-items:end;padding:8px}
.app-title{margin:0;font-size:18px;font-weight:600}
.contents-buttons{display:flex;gap:12px}
.contents-buttons img{width:22px;height:22px;display:block}

/* main */
.main{display:grid;grid-template-columns:1fr 64px;gap:10px}

/* stage */
.stage{position:relative;overflow:hidden;background:var(--stage);border:2px solid var(--stage-bd);border-radius:var(--stage-r)}
.mannequin{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:240px;height:auto;opacity:1;image-rendering:-webkit-optimize-contrast}
#draw,#preview{position:absolute;inset:0;display:block}

/* upload layer */
.img-layer{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);max-width:80%;max-height:80%;display:none;cursor:move}

/* inline text editor */
#textEditor{
  position:fixed; left:0; top:0; display:none;
  transform:translate(-50%,-50%);
  min-width:2px; min-height:1.2em; padding:0 2px;
  line-height:1.2; font:20px Inter, Arial, sans-serif;
  color:#000; background:transparent; border:1px dashed rgba(0,0,0,.25);
  outline:none; white-space:nowrap;
}

/* opacity HUD (右中段に固定) */
.opacity-hud{
  position:absolute; right:48px; top:41%;
  display:flex; align-items:center; gap:8px;
  background:#4b4b4b; color:#fff; border-radius:6px; padding:6px 8px;
  border:1px solid rgba(255,255,255,.35);
  opacity:0; pointer-events:none; transition:.18s ease;
}
.opacity-hud input[type="range"]{ -webkit-appearance:none; appearance:none; width:120px; height:6px; background:#9f9f9f; border-radius:999px; border:1px solid #ccc; }
.opacity-hud input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; width:14px; height:14px; border-radius:50%; background:#9ed0ff; border:1px solid #5b8cc8; }
.opacity-hud.show{ opacity:1; pointer-events:auto; }
.opacity-hud #opVal{ font-size:12px; min-width:42px; text-align:right; }

/* grid overlay */
.stage.grid::after{
  content:"";position:absolute;inset:16px;pointer-events:none;border-radius:10px;
  background:
    linear-gradient(to right, rgba(0,0,0,.05) 1px, transparent 1px) 0 0/ calc((100% - 32px)/100) 100%,
    linear-gradient(to bottom, rgba(0,0,0,.05) 1px, transparent 1px) 0 0/ 100% calc((100% - 32px)/70);
}

/* rail */
.rail{display:grid;grid-template-rows:auto 1fr auto;gap:14px;align-content:start}
.io-stack{display:grid;gap:8px;justify-items:center}
.io{width:28px;height:28px;background:var(--tile-bg);border:1px solid var(--tile-bd);border-radius:var(--tile-r);display:grid;place-items:center;box-shadow:var(--shadow)}
.io img{width:20px;height:20px}
.tools{display:grid;grid-auto-rows:36px;gap:8px;justify-items:center}
.tool{width:36px;height:36px;background:var(--tile-bg);border:1px solid var(--tile-bd);border-radius:var(--tile-r);display:grid;place-items:center;box-shadow:var(--shadow);cursor:pointer}
.tool img{width:20px;height:20px}
.tool.active{outline:2px solid #7fb2ff}
.palette{display:grid;grid-auto-rows:22px;gap:10px;justify-items:center}
.palette i{width:18px;height:18px;border-radius:50%;background:var(--c,#ccc);border:1px solid rgba(0,0,0,.22);box-shadow:inset 0 0 0 2px rgba(255,255,255,.55);cursor:pointer}
.palette i.active{outline:2px solid #7fb2ff;outline-offset:2px}
