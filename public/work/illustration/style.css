:root{
  --board-w: 1280px;
  --board-h: 820px;

  --col-layers: 132px;
  --col-tools:  48px;
  --col-palette:48px;

  --gap: 16px;
  --bg: #e5dccf;
  --board-bg: #ffffff;
  --board-line: #cfcfcf;
  --radius-lg: 14px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:#1b1b1b;
  font:16px/1.4 -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
}

/* header */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:18px 24px 10px;
}
.app-title{ margin:0; font-size:20px; font-weight:600; }
.top-actions{ display:flex; align-items:center; gap:12px; }
.top-actions img{ width:20px; height:20px; display:block; filter:grayscale(.2); }
.nextstep{ font-size:12px; opacity:.75; margin-left:6px; }

/* fixed board container with autoscale (fit window) */
.stage-wrap{
  display:flex; justify-content:center;
  padding:8px 12px 28px; overflow:hidden;
}
.stage{
  width: calc(var(--board-w) + var(--gap) + var(--col-layers) + var(--gap) + var(--col-tools) + var(--gap) + var(--col-palette));
  height: var(--board-h);
  position:relative; transform-origin:top left;
  transform: scale( min( 100vw / (var(--board-w) + 260px), 100vh / (var(--board-h) + 80px) ) );

  display:grid;
  grid-template-columns: var(--board-w) var(--gap) var(--col-layers) var(--gap) var(--col-tools) var(--gap) var(--col-palette);
  grid-template-rows: var(--board-h);
  align-items:start;
}

/* left board */
.board{
  grid-column:1; grid-row:1;
  width:var(--board-w); height:var(--board-h);
  background:var(--board-bg);
  border:1.5px solid var(--board-line);
  border-radius:var(--radius-lg);
  position:relative; overflow:hidden;
}
.mannequin{
  position:absolute; left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:220px; image-rendering:-webkit-optimize-contrast;
}

/* zoom */
.zoom{ position:absolute; right:28px; top:160px; display:flex; flex-direction:column; align-items:flex-end; gap:8px; }
.zoom-badge{ font-size:12px; padding:4px 8px; background:#3a3a3a; color:#fff; border-radius:10px; opacity:.85; }
.zoom-rail{ position:relative; width:10px; height:240px; background:#e9e9e9; border-radius:10px; outline:1px solid #d3d3d3; }
.zoom-thumb{ position:absolute; left:1px; width:8px; height:8px; background:#6aa8ff; border-radius:50%; display:block; }

/* IO row */
.io-row{
  grid-column:3; grid-row:1;
  display:flex; gap:8px; align-items:center; justify-content:flex-end; padding-top:6px;
}
.io{ width:26px; height:26px; padding:0; border:0; background:transparent; cursor:pointer; }
.io img{ width:100%; height:100%; display:block; }

/* layers */
.layers{
  grid-column:3; grid-row:1;
  display:flex; flex-direction:column; gap:14px; padding-top:40px;
}
.layer-card{
  width:var(--col-layers); height:184px;
  background:#f5f3ee; border:1px solid #cfc8bd; border-radius:10px;
  position:relative; box-shadow:0 1px 0 rgba(0,0,0,.04) inset;
}
.layer-card.short{ height:120px; }
.layer-head{ position:absolute; left:8px; top:6px; display:flex; gap:8px; align-items:center; }
.layer-head img{ width:16px; height:16px; display:block; }
.layer-body{ position:absolute; left:8px; right:8px; top:28px; bottom:28px; background:repeating-linear-gradient(45deg,#eee 0 10px,#f7f6f3 10px 20px); border-radius:6px; }
.layer-foot{ position:absolute; right:8px; bottom:6px; display:flex; gap:8px; align-items:center; }
.layer-foot img{ width:16px; height:16px; display:block; }

/* tools */
.tools{
  grid-column:5; grid-row:1;
  display:flex; flex-direction:column; gap:10px; padding-top:40px;
}
.tool{
  width:var(--col-tools); height:34px; border:0; background:#fff; border-radius:10px;
  display:grid; place-items:center; box-shadow:0 0 0 1px #e1e1e1 inset; cursor:pointer;
}
.tool img{ width:18px; height:18px; display:block; }

/* palette */
.palette{
  grid-column:7; grid-row:1;
  display:flex; flex-direction:column; align-items:center; gap:10px; padding-top:40px;
}
.sw{ width:36px; height:36px; border-radius:50%; border:1px solid #d9d9d9; background:var(--c,#fff); display:block; cursor:pointer; }
.palette-bottom{ margin-top:24px; display:flex; flex-direction:column; gap:10px; }
.sw.pen{ background:#fff; display:grid; place-items:center; }
.sw.pen img{ width:18px; height:18px; }
