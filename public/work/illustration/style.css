/* work/illustration/style.css */
:root{
  --board-w:1280px; --board-h:820px;
  --bg:#f5ede3; --ink:#1b1b1b;
  --stage:#fff; --stage-bd:#cfc9bf; --stage-r:12px;
  --tile-bg:#fff; --tile-bd:#ddd8cf; --tile-r:9px;
  --shadow:0 1px 0 rgba(0,0,0,.03);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:"Inter","Helvetica Neue",Arial,system-ui,-apple-system,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif}

.fit{min-height:100vh}
.board{
  width:var(--board-w);height:var(--board-h);margin:14px auto;
  transform-origin:top center;
  --sx:calc(100vw/var(--board-w));--sy:calc(100vh/var(--board-h));--s:min(var(--sx),var(--sy));
  transform:scale(calc(var(--s)*0.98));
  display:grid;grid-template-rows:74px 1fr;gap:12px;
}

/* header */
.topbar{position:relative;display:grid;align-items:end;padding:8px 8px 0}
.app-title{margin:0;font-size:18px;font-weight:600;letter-spacing:.2px}
.contents-buttons{display:flex;gap:12px;justify-content:flex-end;align-items:center;margin-top:18px}
.contents-buttons img{display:block;width:22px;height:22px;image-rendering:-webkit-optimize-contrast}

/* main */
.main{display:grid;grid-template-columns:1fr 64px;gap:10px}

/* stage */
.stage{
  position:relative;overflow:hidden;background:var(--stage);
  border:2px solid var(--stage-bd);border-radius:var(--stage-r)
}
.mannequin{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:240px;height:auto;opacity:.98;image-rendering:-webkit-optimize-contrast}
#draw{position:absolute;inset:0;display:block}
.img-layer{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);max-width:90%;max-height:90%;display:none;pointer-events:none}

.opacity-ui{position:absolute;right:54px;top:41%;display:grid;gap:6px;justify-items:center;pointer-events:none}
.zoom-label{font-size:11px;line-height:1;background:#fff;border:1px solid #d7d1c7;border-radius:6px;padding:2px 6px;box-shadow:var(--shadow)}
.zoom-bar{position:relative;width:118px;height:8px;background:#ece8df;border:1px solid #d7d1c7;border-radius:999px;box-shadow:var(--shadow)}
.zoom-thumb{position:absolute;top:-3px;width:12px;height:12px;border-radius:50%;background:#5ea3ff;border:1px solid #507fbe;left:100%}
.zoom-dot{position:absolute;right:12px;top:50%;width:6px;height:6px;border-radius:50%;background:#5ea3ff;transform:translateY(-50%)}

/* rail */
.rail{display:grid;grid-template-rows:auto 1fr auto;gap:14px;align-content:start}
.io-stack{display:grid;gap:8px;justify-items:center}
.io{width:28px;height:28px;background:var(--tile-bg);border:1px solid var(--tile-bd);border-radius:var(--tile-r);display:grid;place-items:center;box-shadow:var(--shadow)}
.io img{width:20px;height:20px}

.tools{display:grid;grid-auto-rows:36px;gap:8px;justify-items:center}
.tool{width:36px;height:36px;background:var(--tile-bg);border:1px solid var(--tile-bd);border-radius:var(--tile-r);display:grid;place-items:center;box-shadow:var(--shadow);cursor:pointer}
.tool img{width:20px;height:20px}
.tool.t-select,.tool.t-direct{border-radius:8px}
.tool.t-select img,.tool.t-direct img{width:18px;height:18px}
.tool.active{outline:2px solid #7fb2ff}

.palette{display:grid;grid-auto-rows:22px;gap:10px;justify-items:center;align-content:start}
.palette i{width:18px;height:18px;border-radius:50%;background:var(--c,#ccc);border:1px solid rgba(0,0,0,.22);box-shadow:inset 0 0 0 2px rgba(255,255,255,.55);cursor:pointer}
.palette i.active{outline:2px solid #7fb2ff;outline-offset:2px}

.more-dot{justify-self:center;align-self:end;width:18px;height:18px;border-radius:50%;background:#fff;border:1px solid var(--tile-bd);box-shadow:var(--shadow);position:relative}
.more-dot::before{content:"";position:absolute;left:50%;top:50%;width:8px;height:2px;background:#888;transform:translate(-50%,-50%);box-shadow:-5px 0 0 #888,5px 0 0 #888}

/* optional grid overlay */
.stage.grid::after{
  content:"";position:absolute;inset:14px;pointer-events:none;border-radius:10px;
  background:
    linear-gradient(to right, rgba(0,0,0,.05) 1px, transparent 1px) 0 0/ (calc( (100% - 28px) / 100)) 100%,
    linear-gradient(to bottom, rgba(0,0,0,.05) 1px, transparent 1px) 0 0/ 100% (calc( (100% - 28px) / 70));
}
