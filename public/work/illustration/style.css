:root{
  --bg:#efe7e0;
  --panel:#ffffff;
  --tile:#ece7e1;
  --line:#e6e0db;
  --text:#333;

  --icon:26px;
  --tile-lg:36px;   /* contents用大アイコン */
  --st-icon:30px;
  --radius:12px;
  --radius-sm:10px;

  --right-col:360px;
  --layer-col:80px;
  --canvas-pad:26px;
  --gap:16px;
}

/* Base */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);background:#fff}
img{display:block;max-width:100%;height:auto}
button{font:inherit; cursor:pointer}

/* Topbar */
.topbar{padding:14px 16px;background:var(--bg);border-bottom:1px solid var(--line)}
.row{display:flex;align-items:center;gap:12px}
.row + .row{margin-top:10px}
.page-title{font-size:16px;font-weight:600}
.flex-1{flex:1}
.next-btn{padding:8px 14px;border:1px solid var(--line);background:var(--panel);border-radius:12px}
.gender-switch{display:flex;gap:8px}
.gender-switch button{padding:6px 12px;border:1px solid var(--line);background:#fff;border-radius:8px}
.tiles{display:flex;gap:8px}
.tiles.history .tile{width:var(--icon);height:var(--icon);padding:6px;background:var(--tile);border:1px solid var(--line);border-radius:var(--radius-sm)}
.tiles.contents .tile-lg{width:var(--tile-lg);height:var(--tile-lg);padding:6px;background:var(--tile);border:1px solid var(--line);border-radius:var(--radius-sm)}
.mode-switch{position:absolute;top:0;right:0;display:flex;gap:8px}
.mode-switch button{padding:6px 14px;border:1px solid var(--line);background:var(--tile);border-radius:10px}

/* Main: 3カラム */
.main{display:grid;grid-template-columns:1fr var(--layer-col) var(--right-col);gap:22px;padding:18px 16px;background:var(--bg);min-height:calc(100vh - 78px)}

/* Canvas */
.canvas{position:relative;background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);padding:var(--canvas-pad);display:flex;align-items:center;justify-content:center}
.mannequin{max-width:420px}

/* Layer panel */
.layer-panel{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:14px 0}
.layer-panel img{width:28px;height:28px;object-fit:contain}
.layer-panel img.big{width:44px;height:44px}

/* Right column */
.right{display:flex;flex-direction:column;gap:var(--gap)}
.contents-row{display:flex;justify-content:flex-end}
.panel-col{display:flex;flex-direction:column;gap:var(--gap)}
.panel{background:#fff;border:1px solid var(--line);border-radius:var(--radius);padding:14px 16px;display:flex;flex-direction:column;gap:12px}
.panel h3{font-size:14px;font-weight:700}
.st-row{display:flex;gap:12px}
.st-btn{width:var(--st-icon);height:var(--st-icon);padding:6px;border:1px solid var(--line);background:#fff;border-radius:10px;object-fit:contain}
.z-row{display:flex;align-items:center;gap:12px}
.ghost{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;border:1px solid var(--line);border-radius:8px;background:#fff}
.bar{position:relative;flex:1;height:6px;border:1px solid var(--line);border-radius:999px;background:linear-gradient(90deg,#dcd6cf,#a8a19b)}
.bar i{position:absolute;top:-5px;left:20%;width:14px;height:14px;background:#fff;border:1px solid var(--line);border-radius:50%}
.ghost-btn{padding:6px 10px;border:1px solid var(--line);background:#fff;border-radius:8px}
.note{font-size:12px;color:#777}
.panel-color{min-height:240px}
.swatches{display:grid;grid-template-columns:repeat(5,28px);gap:10px}
.swatches div{width:28px;height:28px;border-radius:8px;border:1px solid var(--line)}
.color-actions{display:flex;gap:8px}
