:root{
  --board-w:1280px; --board-h:820px;
  --bg:#f5ede3; --ink:#1b1b1b;
  --stage:#fff; --stage-bd:#cfc9bf; --stage-r:12px;
  --tile-bg:#fff; --tile-bd:#ddd8cf; --tile-r:9px;
  --shadow:0 1px 0 rgba(0,0,0,.03);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:Inter,Arial,sans-serif}

.fit{min-height:100vh}
.board{
  width:var(--board-w);height:var(--board-h);margin:14px auto;
  transform-origin:top center;
  --sx:calc(100vw/var(--board-w));--sy:calc(100vh/var(--board-h));--s:min(var(--sx),var(--sy));
  transform:scale(calc(var(--s)*0.98));
  display:grid;grid-template-rows:74px 1fr;gap:12px;
}

/* header */
.topbar{display:flex;justify-content:space-between;align-items:end;padding:8px}
.app-title{margin:0;font-size:18px;font-weight:600}
.contents-buttons{display:flex;gap:12px}
.contents-buttons img{width:22px;height:22px;display:block}

/* main */
.main{display:grid;grid-template-columns:1fr 64px;gap:10px}

/* stage */
.stage{position:relative;overflow:hidden;background:var(--stage);border:2px solid var(--stage-bd);border-radius:var(--stage-r)}
.mannequin{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:240px;height:auto;opacity:.98}
#draw{position:absolute;inset:0}
.img-layer{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);max-width:80%;max-height:80%;display:none;cursor:move}
.opacity-icon{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:40px;height:40px;opacity:0;transition:opacity .4s}

/* rail */
.rail{display:grid;gap:14px;align-content:start}
.io-stack{display:grid;gap:8px;justify-items:center}
.io{width:28px;height:28px;background:var(--tile-bg);border:1px solid var(--tile-bd);border-radius:var(--tile-r);display:grid;place-items:center}
.io img{width:20px;height:20px}
.tools{display:grid;grid-auto-rows:36px;gap:8px;justify-items:center}
.tool{width:36px;height:36px;background:var(--tile-bg);border:1px solid var(--tile-bd);border-radius:var(--tile-r);display:grid;place-items:center;cursor:pointer}
.tool img{width:20px;height:20px}
.tool.active{outline:2px solid #7fb2ff}
.palette{display:grid;grid-auto-rows:22px;gap:10px;justify-items:center}
.palette i{width:18px;height:18px;border-radius:50%;background:var(--c);border:1px solid #555;cursor:pointer}
.palette i.active{outline:2px solid #7fb2ff}
