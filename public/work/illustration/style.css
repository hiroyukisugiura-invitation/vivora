/* ==============================================================
   Vivora UI — Clean CSS（完全版）
   - 変数駆動で色/余白/影を統一
   - ツールバーのアイコンを“極限まで詰める”ための3変数を用意
   - クラス名は index.html に完全対応
================================================================= */

/* === Theme tokens ================================================= */
:root{
  /* Colors */
  --bg-main:      #f0ebe8;   /* ページ背景 */
  --bg-panel:     #faf6f3;   /* パネル/キャンバス背景 */
  --text-primary: #3d3d3d;   /* 主要テキスト */
  --border-color: #e0d5d0;   /* 枠線 */
  --shadow-light: 0 4px 12px rgba(0,0,0,.05);

  /* Typography */
  --font-accent: 'Playfair Display', serif;

  /* Spacing scale */
  --space-2xs: 4px;
  --space-xs : 6px;
  --space-sm : 8px;
  --space-md : 16px;
  --space-lg : 24px;

  /* === Toolbar “詰め”ノブ（ここを触ると見た目が即反映） === */
  --icon-size: 26px;  /* アイコン高さ：24〜30px */
  --icon-pad : -14px; /* PNGの透明余白相殺：-10〜-16px */
  --btn-gap  : 0px;   /* アイコン間の素の隙間：0〜2px */
}

/* === Reset / Base ================================================= */
*{ box-sizing:border-box; margin:0; padding:0; }
html,body{ height:100%; }
body{
  background:var(--bg-main);
  color:var(--text-primary);
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  overflow:hidden; /* 本体は固定。スクロールはサイドバー側のみ */
}

/* === App layout（左：作業 / 右：サイドバー） =================== */
.app-container{
  display:flex;
  height:100vh;
}
.main-workspace{
  flex:1;
  display:grid;
  grid-template-rows: auto auto 1fr; /* タイトル / ツールバー / キャンバス */
  row-gap: var(--space-sm);
  padding:var(--space-md) var(--space-lg);
}
.sidebar{
  width:340px;
  padding:var(--space-lg);
  display:flex;
  flex-direction:column;
  gap:var(--space-md);
  overflow:auto; /* ← 売りはここだけが縦スクロール */
  background:var(--bg-main);
  border-left:1px solid var(--border-color);
}

/* === Header ====================================================== */
.page-title{ padding-bottom:var(--space-md); }
.page-title h1{
  font-family:var(--font-accent);
  font-size:26px;
  font-weight:500;
  letter-spacing:.2px;
}

/* === Toolbar（Gridで3カラム：左/中央/右を安定配置） ============= */
.toolbar{
  display:grid;
  grid-template-columns: auto 1fr auto; /* 左=gender / 中央=history / 右=contents */
  align-items:center;
  column-gap: var(--space-md);
  padding-bottom: var(--space-md);
}

/* Gender switch（ピル型） */
.gender-switch{
  display:flex;
  background:#fff;
  border:1px solid var(--border-color);
  border-radius:999px;
  box-shadow:var(--shadow-light);
  overflow:hidden;
}
.gender-btn{
  background:transparent;
  border:none;
  padding:10px 24px;
  font-size:14px;
  cursor:pointer;
  color:var(--text-primary);
  transition:background .15s ease, color .15s ease;
}
.gender-btn:hover{ background:rgba(0,0,0,.05); }
.gender-btn.active{ background:var(--text-primary); color:#fff; }

/* History/Contents（“詰め”の本体） */
.history-tool{ justify-self:center; }
.contents-tool{ justify-self:end; }
.history-tool,
.contents-tool{
  display:flex;
  align-items:center;
  gap:var(--btn-gap); /* ← 基本の隙間はここで制御 */
}
/* ボタン化（枠/影/余白を完全撤去） */
.icon-btn{
  all:unset;                   /* UA既定のbuttonスタイルを抹消 */
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  opacity:.9;
  transition:opacity .12s ease;
}
.icon-btn:hover{ opacity:1; }
/* アイコン：高さ統一＋左右マイナスマージンで“透明余白”を潰す */
.icon-btn img{
  display:block;
  height:var(--icon-size);
  width:auto;
  margin-left: var(--icon-pad);
  margin-right:var(--icon-pad);
}
/* アクセシビリティ：フォーカスリング */
.icon-btn:focus-visible,
.gender-btn:focus-visible,
.next-button button:focus-visible,
.zoom-btn:focus-visible,
.opacity-btn:focus-visible,
.reset-btn:focus-visible{
  outline:2px solid #6c5ce7;
  outline-offset:2px;
  border-radius:8px;
}

/* === Canvas ====================================================== */
.canvas{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--bg-panel);
  border:1px solid var(--border-color);
  border-radius:12px;
  box-shadow:var(--shadow-light);
  overflow:hidden;
}
.mannequin-base{
  max-width:90%;
  max-height:90%;
  object-fit:contain;
  user-select:none;
  -webkit-user-drag:none;
}

/* === Sidebar panels ============================================= */
.next-button{ text-align:right; margin-bottom:var(--space-md); }
.next-button button{
  background:var(--text-primary);
  color:#fff;
  font-family:var(--font-accent);
  font-size:18px;
  letter-spacing:1px;
  padding:12px 28px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  box-shadow:var(--shadow-light);
  transition:background .15s ease;
}
.next-button button:hover{ background:#000; }

.panel{
  background:var(--bg-panel);
  border:1px solid var(--border-color);
  border-radius:12px;
  padding:var(--space-md);
  box-shadow:var(--shadow-light);
}
.panel + .panel{ margin-top:var(--space-md); }
.panel h3{
  font-family:var(--font-accent);
  font-size:20px;
  margin-bottom:var(--space-md);
}

/* スロット/ツールのグリッド */
.create-data{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:var(--space-sm);
}
.data-slot{
  width:100%;
  aspect-ratio:3/4;
  border:1px dashed var(--border-color);
  border-radius:8px;
  background:#fff;
}

.tool-grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:14px;
}
.tool-tile{
  background:#fff;
  width:100%;
  aspect-ratio:1/1;
  border:1px solid var(--border-color);
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease;
}
.tool-tile:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 18px rgba(0,0,0,.08);
}
.tool-tile img{ height:32px; }

.panel-footer{
  text-align:center;
  letter-spacing:2px;
  color:#bbb;
  margin-top:var(--space-sm);
}

/* スライダー（Zoom / Opacity） */
.slider-control{
  display:flex;
  align-items:center;
  gap:var(--space-sm);
}
.slider-control input[type="range"]{ flex:1; }
.zoom-btn, .opacity-btn{
  border:1px solid var(--border-color);
  background:#fff;
  border-radius:6px;
  padding:4px 10px;
  cursor:pointer;
}
.slider-meta{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:#999;
  margin-top:var(--space-sm);
}
.reset-btn{
  border:none;
  background:none;
  text-decoration:underline;
  color:#999;
  cursor:pointer;
}

/* 補足テキスト */
.panel-note{
  font-size:12px;
  color:#999;
  margin-top:var(--space-md);
  line-height:1.6;
}

/* カラー */
.custom-btn{
  background:none;
  border:1px solid var(--border-color);
  color:var(--text-primary);
  font-size:12px;
  cursor:pointer;
  padding:4px 10px;
  border-radius:6px;
}
.color-grid{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:var(--space-sm);
}
.color-tile{
  width:100%;
  aspect-ratio:1/1;
  border-radius:50%;
  cursor:pointer;
  border:2px solid transparent;
}
.color-tile.add-button,
.color-tile.eyedropper-button{
  border:1px dashed var(--border-color);
  display:flex;
  justify-content:center;
  align-items:center;
  color:#bbb;
}
.color-tile.eyedropper-button img{ height:20px; }

/* === クイック調整メモ =============================================
   ・さらに詰めたい → :root の
       --icon-pad: -16px;  --btn-gap: 0px;  --icon-size: 26px;
   ・少し余裕を持たせたい →
       --icon-pad: -10px;  --btn-gap: 2px;  --icon-size: 24px;
================================================================== */
