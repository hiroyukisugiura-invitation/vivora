/* =============================================================
   Vivora Fashion Illustration 2025 - style.css（完全版）
   参照：new_fashion-illustrations.png
   構成：TopBar / Canvas / Sidebar（Layer Rail + Panel Stack）
============================================================= */

/* ---------- Tokens ---------- */
:root{
  --bg:#f3ece7; --panel:#f7f2ee; --line:#e1d9d4; --text:#333; --accent:#222; --white:#fff;
  --r-xs:6px; --r-sm:8px; --r-md:12px; --r-lg:16px;
  --shadow-sm:0 4px 10px rgba(0,0,0,.05); --shadow-md:0 6px 18px rgba(0,0,0,.06);
  --sidebar-w: 380px; --layer-rail-w: 92px; --panel-stack-w: calc(var(--sidebar-w) - var(--layer-rail-w) - 20px);
  --content-max: 1440px;
  --font-ui:'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans JP", sans-serif;
  --font-accent:'Playfair Display', serif;
}

/* ---------- Reset ---------- */
*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:400 14px/1.6 var(--font-ui);-webkit-font-smoothing:antialiased}
img{display:block;max-width:100%;height:auto}
button{font:inherit;color:inherit;background:#fff;border:1px solid var(--line);border-radius:var(--r-sm);padding:6px 12px;cursor:pointer;transition:.2s}
button:hover{background:#efe9e4;box-shadow:0 2px 6px rgba(0,0,0,.08)}

/* ---------- Wrap ---------- */
.wrap{max-width:var(--content-max);margin:0 auto;padding:16px 20px}

/* =============================================================
   TOP BAR
============================================================= */
.top-bar{display:flex;flex-direction:column;gap:12px}
.page-title{font-family:var(--font-accent);font-size:20px;font-weight:600;color:var(--accent);margin-left:4px}

.top-controls{display:grid;grid-template-columns:auto 1fr auto auto;gap:16px;align-items:center}
.gender-switch,.history-tool,.mode-switch,.next-button{display:flex;align-items:center;gap:8px}
.btn-gender.active,.btn-mode.active{font-weight:700;border-color:#cfc5bf}
.tool-btn{background:transparent;border:none;padding:0}
.tool-btn img{height:22px;width:auto;display:block}

/* =============================================================
   WORKSPACE（Canvas + Sidebar）
============================================================= */
.workspace{display:grid;grid-template-columns:1fr var(--sidebar-w);gap:20px;margin-top:14px}

/* Canvas（大白カード） */
.canvas{position:relative;background:var(--white);border:1px solid var(--line);border-radius:var(--r-lg);box-shadow:var(--shadow-md);min-height:720px;display:flex;align-items:center;justify-content:center;padding:28px}
.mannequin-base{max-width:440px;height:auto}

/* グリッドオーバーレイ（toggle表示） */
.grid-overlay{position:absolute;inset:0;pointer-events:none;opacity:.35;display:none;background-image:linear-gradient(to right, rgba(0,0,0,.08) 1px, transparent 1px),linear-gradient(to bottom, rgba(0,0,0,.08) 1px, transparent 1px);background-size:24px 24px;border-radius:var(--r-lg)}
.canvas.show-grid .grid-overlay{display:block}

/* =============================================================
   SIDEBAR（2列：左Layer Rail + 右Panel Stack）
============================================================= */
.sidebar{background:var(--panel);border:1px solid var(--line);border-radius:var(--r-lg);padding:16px}
.sidebar-grid{display:grid;grid-template-columns:var(--layer-rail-w) 20px var(--panel-stack-w);align-items:start}

/* ---- 左：Layer Rail（アイコン列→白ボックス） ---- */
.layer-rail{display:flex;flex-direction:column;gap:18px}
.rail-slot{display:grid;grid-template-columns:28px 1fr;gap:10px;align-items:center}
.slot-icons{display:flex;flex-direction:column;gap:10px;align-items:center}
.slot-icons img{width:18px;height:18px;opacity:.85;transition:.15s;cursor:pointer}
.slot-icons img:hover{opacity:1}
.slot-box{height:120px;background:#fff;border:1px dashed var(--line);border-radius:10px;box-shadow:var(--shadow-sm)}

/* ---- 右：Panel Stack（カードを縦積み） ---- */
.panel-stack{display:flex;flex-direction:column;gap:16px}
.tool-section{background:#fff;border:1px solid var(--line);border-radius:12px;box-shadow:var(--shadow-sm);padding:12px}
.tool-section>label{display:block;font-weight:600;margin-bottom:10px}

/* Contents（8アイコン） */
.contents-button{display:grid;grid-template-columns:repeat(8,1fr);gap:8px;align-items:center}
.contents-button img{width:30px;height:30px;border:1px solid var(--line);border-radius:8px;padding:3px;background:#fff;transition:.15s;cursor:pointer}
.contents-button img:hover{background:#efe9e4}

/* Stationery（12アイコン） */
.stationery-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.stationery-grid img{width:22px;height:22px;display:block;margin:auto;background:#fff;border:1px solid var(--line);border-radius:10px;padding:6px;box-shadow:var(--shadow-sm);transition:.15s}
.stationery-grid img:hover{background:#f7f2ee}

/* スライダー共通（Zoom / Opacity） */
.slider-control{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.slider-control input[type="range"]{flex:1}
.slider-control span{min-width:42px;text-align:right;font-weight:600}
.reset{border:1px solid var(--line);background:#eee;border-radius:8px;padding:2px 8px;font-size:12px}

/* Color */
.color-palette{display:flex;flex-direction:column;gap:10px}
.swatches{display:grid;grid-template-columns:repeat(6,1fr);gap:6px}
.color-swatch{width:22px;height:22px;border:1px solid #bbb;border-radius:6px;cursor:pointer;transition:.15s}
.color-swatch:hover{box-shadow:0 0 0 2px #aaa}
.custom-tools{display:flex;gap:6px;flex-wrap:wrap}
.custom-tools button{width:28px;height:28px;border:1px solid var(--line);border-radius:8px;background:#fff}
.custom-tools img{width:18px;height:18px;display:block;margin:auto}
