/* =========================
   Vivora Fashion Illustration 2025
   固定サイズ・レイアウト専用CSS
   - HTML/JS と分離（JSは未導入）
   - 2D/3Dボタンは仕様的に非掲載（指示まで記述しない）
   ========================= */

:root{
  --frame-w: 1280px;
  --frame-h: 820px;
  --bg: #0f0f11;
  --panel: #16171a;
  --panel-2: #1b1c20;
  --text: #e8eaf0;
  --text-dim: #a9afbd;
  --accent: #9aa5ff;   /* 目立ちすぎない淡色アクセント */
  --line: #2a2c33;

  --gap: 12px;
  --radius: 12px;

  --header-h: 88px;
  --rpanel-w: 340px;

  --tool-icon: 24px;
  --icon: 20px;
  --icon-s: 16px;

  --shadow: 0 6px 22px rgba(0,0,0,.45);
}

/* ページ全体：中央に固定サイズフレームを置く */
html, body{
  height: 100%;
  margin: 0;
  background: #000;
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
}
body{
  display: grid;
  place-items: center;
  overflow: hidden; /* 画面外スクロール禁止（固定レイアウト） */
}

/* アプリ全体の外枠 */
.app-frame{
  width: var(--frame-w);
  height: var(--frame-h);
  background: var(--bg);
  display: grid;
  grid-template-rows: var(--header-h) 1fr;
  grid-template-columns: 1fr;
  border-radius: 16px;
  box-shadow: var(--shadow);
  position: relative; /* Quick Actions の絶対配置用 */
  overflow: hidden;   /* 内側に影などを閉じ込める */
}

/* ヘッダー */
.app-header{
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: 1fr auto; /* 2行目に contents button */
  align-items: center;
  gap: 6px 10px;
  padding: 10px 14px;
  border-bottom: 1px solid var(--line);
}

.app-title{
  grid-column: 1 / 2;
  grid-row: 1 / 2;
  font-size: 18px;     /* 主張しすぎない小さめ */
  font-weight: 600;
  margin: 0;
  letter-spacing: .2px;
  color: var(--text);
}

/* Next Step（右上） */
.next-step{
  grid-column: 2 / 3;
  grid-row: 1 / 2;
  justify-self: end;
}

/* ヘッダー内の contents button（Next Stepの下） */
.contents-toolbar{
  grid-column: 2 / 3;
  grid-row: 2 / 3;
  justify-self: end;
}

/* メインレイアウト：左=キャンバス、右=パネル */
.app-main{
  display: grid;
  grid-template-columns: 1fr var(--rpanel-w);
  gap: 0;
  height: 100%;
}

/* キャンバス */
.canvas-wrap{
  position: relative;
  background: #0c0d10;
  border-right: 1px solid var(--line);
  display: grid;
  place-items: center;
  overflow: hidden;
}

/* 方眼紙（土台のみ。今は非表示相当のダミー） */
.graph-paper{
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
  background-size: 30px 30px;   /* 方眼紙のマス目（仮） */
  opacity: 0;                    /* 将来ON/OFF予定 */
  pointer-events: none;
}

/* マネキン：中央配置、最大幅/高さを確保 */
.mannequin-base{
  max-width: min(560px, 80%);
  max-height: 80%;
  user-select: none;
  -webkit-user-drag: none;
  image-rendering: -webkit-optimize-contrast;
}

/* 右パネル */
.right-panel{
  display: grid;
  grid-template-rows: auto 1fr;
  background: var(--panel);
}

/* 右パネル：上部の簡易ツールバー */
.right-panel-toolbar{
  padding: 10px 12px;
  border-bottom: 1px solid var(--line);
}

/* 右パネル：下部を左右に分割（レイヤー／ツール） */
.right-panel-split{
  display: grid;
  grid-template-columns: 48% 52%;
  gap: 10px;
  padding: 10px;
  height: 100%;
}

/* レイヤーパネル */
.layer-panel{
  background: var(--panel-2);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  display: grid;
  grid-template-rows: auto 1fr auto;
  overflow: hidden;
}

/* 上3つの小アイコン */
.layer-top-icons,
.layer-bottom-icons{
  display: flex;
  gap: 8px;
  padding: 8px;
  align-items: center;
  border-bottom: 1px solid var(--line);
}
.layer-bottom-icons{
  border-top: 1px solid var(--line);
  border-bottom: none;
}

/* 真ん中のレイヤーボード（5段） */
.layer-board{
  padding: 6px;
  display: grid;
  grid-auto-rows: 1fr;
  gap: 6px;
}
.layer-row{
  display: grid;
  align-items: center;
  padding: 8px 10px;
  border: 1px dashed #2f3240;
  border-radius: 8px;
  color: var(--text-dim);
  background: #191b22;
}
.layer-row.is-active{
  border-style: solid;
  border-color: var(--accent);
  color: var(--text);
  background: #202332;
}

/* 右側の縦スタック（Stationery / Zoom / Opacity / Color） */
.tools-stack{
  display: grid;
  grid-auto-rows: max-content;
  gap: 10px;
}

.panel-title{
  font-size: 12px;
  letter-spacing: .3px;
  color: var(--text-dim);
  margin: 0 0 6px 0;
}

/* Stationery */
.stationery{
  background: var(--panel-2);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 10px;
}
.tool-grid{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}
.tool-btn{
  display: grid;
  place-items: center;
  height: 40px;
  border-radius: 10px;
  border: 1px solid #2a2d39;
  background: #1a1c24;
  cursor: default; /* 今は静的（将来JSでactive化） */
}

/* Zoom / Opacity（スライダーの見た目だけ） */
.zoom, .opacity, .color{
  background: var(--panel-2);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 10px;
}
.slider-row{
  display: grid;
  grid-template-columns: 28px 1fr 36px;
  gap: 10px;
  align-items: center;
}
.slider-rail{
  position: relative;
  height: 6px;
  background: #242735;
  border-radius: 999px;
  border: 1px solid #313545;
}
.slider-thumb{
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--accent);
  box-shadow: 0 0 0 2px rgba(154,165,255,.25);
}
.min,.max{
  font-size: 11px;
  color: var(--text-dim);
}

/* Color（色見本） */
.swatch-row{
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 8px;
}
.swatch{
  display: block;
  width: 100%;
  height: 26px;
  border-radius: 6px;
  background: var(--c, #999);
  border: 1px solid #2a2d39;
}

/* Quick Actions（右上：DL/UL/Save） */
.quick-actions{
  position: absolute;
  top: 96px;          /* Y:10 近似 */
  right: 12px;        /* X:94-98 エリア内 */
  display: flex;
  gap: 8px;
}
.qa-btn{
  width: 36px;
  height: 36px;
  display: grid;
  place-items: center;
  border-radius: 10px;
  border: 1px solid #2a2d39;
  background: #1a1c24;
}

/* 共通ボタン */
.btn{
  appearance: none;
  border: 1px solid #2a2d39;
  background: #1b1e28;
  color: var(--text);
  padding: 8px 14px;
  border-radius: 10px;
  font-size: 12px;
  letter-spacing: .2px;
}
.btn:hover{ filter: brightness(1.05); }
.btn.small{ padding: 6px 10px; font-size: 11px; }

/* アイコンサイズ */
.icon-24{ width: var(--tool-icon); height: var(--tool-icon); object-fit: contain; }
.icon-20{ width: var(--icon); height: var(--icon); object-fit: contain; }
.icon-16{ width: var(--icon-s); height: var(--icon-s); object-fit: contain; }

/* === page scope: illustration only =================================== */
body[data-illustration]{
  margin: 0;
  background: #e9e2d6;      /* 明るいベージュ（全体） */
  color: #1b1b1b;
  font-family: "Times New Roman", Georgia, serif;
}

/* 既存のサイト全体CSSが強い場合の保険（このページだけ反映） */
body[data-illustration] *{
  box-sizing: border-box;
}

/* 既存のダークテーマを打ち消す代表プロパティ */
body[data-illustration],
body[data-illustration] .frame,
body[data-illustration] .canvas{
  background-color: initial !important;
  background-image: none; /* 必要に応じて。canvas の graph-on は個別指定あり */
}
