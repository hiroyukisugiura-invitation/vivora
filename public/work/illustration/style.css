/* ==========================================================================
   Vivora Fashion Illustration 2025  —  固定レイアウト（完全一致版）
   ・フレーム固定：1280×820px
   ・グリッド：X 0..100 / Y 0..70
   ・1マス = X:12.8px, Y:11.7142857143px（px直結）
   ・このページ専用のスコープ：body[data-illustration] 内のみ適用
   ========================================================================== */

/* --- ページスコープ & 最小リセット -------------------------------------- */
body[data-illustration]{
  margin:0;
  background:#e9e2d6;
  color:#1b1b1b;
  font-family:"Times New Roman", Georgia, serif;
}
body[data-illustration] *{ box-sizing:border-box; }
body[data-illustration] h1,
body[data-illustration] p,
body[data-illustration] ul{ margin:0; padding:0; }

/* --- フレーム（固定サイズ） --------------------------------------------- */
.frame{
  position:relative;
  width:1280px;
  height:820px;
  margin:12px auto;
  background:#e9e2d6;               /* ベージュ */
  border:2px solid #cfc8ba;
  border-radius:10px;
  box-shadow:0 1px 0 #fff inset;
}

/* --- 1マスの物理サイズ（px換算。誤差ゼロ） ------------------------------ */
:root{
  /* 1280 / 100, 820 / 70 */
  --ux: 12.8px;                 /* X軸 1マス */
  --uy: 11.7142857143px;        /* Y軸 1マス */
  --frame-w: 1280px;
  --frame-h: 820px;
}

/* --- “座標”配置（px計算） ----------------------------------------------- */
/* left = x1 * ux
   right = frame-w - x2 * ux
   top = y1 * uy
   bottom = frame-h - y2 * uy
*/
.abs{ position:absolute; }
.zone{
  left:   calc(var(--x1) * var(--ux));
  right:  calc(var(--frame-w) - var(--x2) * var(--ux));
  top:    calc(var(--y1) * var(--uy));
  bottom: calc(var(--frame-h) - var(--y2) * var(--uy));
}

/* --- タイトル & Next ---------------------------------------------------- */
h1{
  font-size:18px;
  line-height:1;
  display:flex; align-items:center;
}
.next-btn{
  font:inherit;
  padding:4px 10px;
  background:#f2efe8;
  border:1px solid #b9b2a6;
  border-radius:4px;
  cursor:pointer;
}

/* --- 右上ツールバー（カテゴリ） ---------------------------------------- */
.top-toolbar ul,
.io-toolbar ul{
  list-style:none;
  display:flex; gap:8px; align-items:center; justify-content:flex-end;
}
.ico{
  width:20px; height:20px;
  background:#f6f3ee;
  border:1px solid #8f877a;
  border-radius:4px;
}
.ico.small{ width:18px; height:18px; }

/* --- キャンバス --------------------------------------------------------- */
.canvas{
  background:#fff;
  border-radius:12px;
  box-shadow: inset 0 0 0 1px #d8d3c7;
  overflow:hidden;
}

/* キャンバス内グリッド（方眼紙） */
.canvas.graph-on{
  background:
    linear-gradient(#ffffff,#ffffff),
    repeating-linear-gradient(0deg,  #e9e9e9 0, #e9e9e9 1px, #ffffff 1px, #ffffff 11.7142857143px),
    repeating-linear-gradient(90deg, #e9e9e9 0, #e9e9e9 1px, #ffffff 1px, #ffffff 12.8px);
  background-blend-mode: normal, multiply, multiply;
}

/* マネキン（座標で拡縮） */
.mannequin{
  object-fit:contain;
  pointer-events:none;
  filter: contrast(.95) saturate(.9);
}

/* --- レイヤーパネル ----------------------------------------------------- */
.layer-board{
  background:#f7f7f7;
  border:1px solid #cfc8ba;
  border-radius:6px;
}
.layer-ops .ico{
  position:absolute;
  transform:translate(-50%,-50%);
  background:#f6f3ee;
}

/* --- ステーショナリー縦列 / パレット ----------------------------------- */
.tools-vertical ul{
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  gap:8px; align-items:center; justify-content:flex-start;
  padding:8px 6px;
}
.tools-vertical .tool{
  width:22px; height:22px;
  border:1px solid #8f877a; border-radius:6px; background:#fff;
}

.palette ul{
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  gap:8px; align-items:center; justify-content:flex-start;
  padding:8px 10px;
}
.palette li{
  width:20px; height:20px; border-radius:50%;
  border:1px solid #7b7367;
  background: var(--c, #ddd);
}

/* --- 透明度スライダー（見た目のみ） ------------------------------------ */
.opacity-slider{ display:flex; align-items:center; gap:8px; }
.opacity-slider .track{
  position:relative; flex:1; height:6px; border-radius:999px;
  background:linear-gradient(to right, rgba(0,0,0,.12), rgba(0,0,0,.65));
}
.opacity-slider .thumb{
  position:absolute; top:50%; transform:translate(-50%,-50%);
  width:14px; height:14px; border-radius:50%;
  background:#fff; border:1px solid #777;
}
.opacity-slider .pct{ font-size:12px; opacity:.7; }
