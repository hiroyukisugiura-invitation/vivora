*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:ui-sans-serif,system-ui,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;color:#333}
button{cursor:pointer;border:none;background:none}
img{display:block;max-width:100%}

:root{
  --bg:#efe7e0;
  --panel:#ffffff;
  --line:#e6e0db;
  --shadow:0 6px 18px rgba(0,0,0,.08);
  --radius:12px; --radius-sm:8px;
  --icon:24px; --st-icon:28px;
}

/* Topbar */
.topbar{display:grid;grid-template-columns:auto 1fr auto auto;align-items:center;gap:16px;padding:10px 16px;background:#e9e1d9;border-bottom:1px solid var(--line)}
.brand{font-weight:600;font-size:14px}
.gender-switch{display:flex;gap:8px}
.btn-gender{padding:6px 12px;border:1px solid var(--line);border-radius:var(--radius-sm);background:#fff;font-weight:600}
.btn-gender.is-active{outline:2px solid #c9b89c}
.history-tool{display:flex;gap:6px;background:#fff;padding:6px 8px;border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);align-items:center}
.history-tool button img{width:var(--icon);height:var(--icon)}
.mode-switch{display:flex;gap:6px;margin-left:8px}
.btn-mode{padding:6px 12px;border:1px solid var(--line);border-radius:var(--radius-sm);background:#fff;font-weight:600}
.btn-mode.is-active{background:#f3ede4;border-color:#cbbba2}
.next-button .btn-next{padding:8px 14px;border:1px solid var(--line);border-radius:var(--radius);background:#fff;font-weight:700;box-shadow:var(--shadow)}

/* Layout */
.app{display:grid;grid-template-columns:1fr 300px;gap:16px;padding:16px;background:var(--bg);height:calc(100vh - 62px)}
.canvas{background:#fff;border-radius:var(--radius);border:1px solid var(--line);box-shadow:var(--shadow);display:flex;align-items:center;justify-content:center}
.canvas-inner{display:flex;justify-content:space-evenly;align-items:center;width:100%;height:100%;transform-origin:top left;padding:24px}
.mannequin{max-height:540px;width:auto}

/* Right panel */
.right-rail{display:flex;flex-direction:column;gap:14px}
.contents-row{display:grid;grid-template-columns:repeat(9,1fr);gap:6px;background:#fff;padding:8px;border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow)}
.contents-row button img{width:var(--icon);height:var(--icon)}
.panel{background:#fff;border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:12px}
.panel h3{font-size:14px;font-weight:700;margin-bottom:8px}
.stationery-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:8px}
.st-btn{width:40px;height:40px;border:1px solid var(--line);border-radius:var(--radius-sm);background:#fff;display:flex;align-items:center;justify-content:center}
.st-btn img{width:var(--st-icon);height:var(--st-icon)}
.st-btn.is-active{outline:2px solid #c9b89c}
.row{display:grid;grid-template-columns:36px 1fr 36px;align-items:center;gap:8px}
.row button{border:1px solid var(--line);border-radius:var(--radius-sm);background:#fff;font-weight:700}
.row input[type=range]{width:100%}
.panel-subrow{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
.panel-subrow button{border:1px solid var(--line);border-radius:var(--radius-sm);padding:4px 8px;background:#fff}
.color-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:6px}
.swatch{width:32px;height:32px;border:1px solid var(--line);border-radius:var(--radius-sm);background:#ddd}
.swatch.is-selected{outline:2px solid #c9b89c}
.swatch.eyedrop{background:linear-gradient(45deg,#000 50%,#fff 50%)}
