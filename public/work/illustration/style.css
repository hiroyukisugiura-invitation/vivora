/* ====== Tokens ====== */
:root{
  --bg:#efe7e0;      /* ベージュ背景 */
  --panel:#fff;      /* 白パネル */
  --tile:#ece7e1;    /* 薄グレーのタイル */
  --line:#e6e0db;    /* 枠線 */
  --text:#333;

  --radius:12px;
  --radius-sm:10px;

  --icon:26px;       /* history/contents タイル内アイコン */
  --st-icon:30px;    /* Stationery 小ボタン */

  --right-col:360px; /* 右カラム幅 */
  --rail:60px;       /* 縦レール幅 */
  --canvas-pad:26px;
}

/* ====== Base ====== */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);background:#fff}
img{display:block;max-width:100%;height:auto}
button{font:inherit}

/* ====== Top（2段） ====== */
.topbar{padding:14px 16px;background:var(--bg);border-bottom:1px solid var(--line)}
.row{display:flex;align-items:center;gap:12px}
.row + .row{margin-top:10px}

.page-title{font-size:16px;font-weight:600}
.flex-1{flex:1}

.mode-switch{display:flex;gap:8px}
.mode-switch button{padding:6px 14px;border:1px solid var(--line);background:var(--tile);border-radius:10px}
.next-btn{padding:8px 14px;border:1px solid var(--line);background:var(--panel);border-radius:12px}

.gender-switch{display:flex;gap:8px}
.gender-switch button{padding:6px 12px;border:1px solid var(--line);background:#fff;border-radius:8px}

.tiles{display:flex;gap:8px}
.tile{
  width:var(--icon);height:var(--icon);padding:6px;
  background:var(--tile);border:1px solid var(--line);border-radius:var(--radius-sm);object-fit:contain;
}

/* ====== Main 2カラム ====== */
.main{
  display:grid;grid-template-columns:1fr var(--right-col);
  gap:22px;padding:18px 16px;background:var(--bg);
  min-height:calc(100vh - 78px);
}

/* Canvas */
.canvas{
  background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);
  padding:var(--canvas-pad);display:flex;align-items:center;justify-content:center;
}
.mannequin{max-width:420px}

/* 右カラム */
.right{display:flex;flex-direction:column;gap:16px}

/* contents（最上段） */
.contents-row{display:flex;justify-content:flex-end}

/* rail + panels（2列） */
.right-grid{display:grid;grid-template-columns:var(--rail) 1fr;gap:16px}

/* rail（5箱） */
.tool-rail{display:flex;flex-direction:column;gap:16px}
.rail-box{background:#fff;border:1px solid var(--line);border-radius:var(--radius);height:96px}

/* panels 列 */
.panel-col{display:flex;flex-direction:column;gap:16px}
.panel{
  background:#fff;border:1px solid var(--line);border-radius:var(--radius);
  padding:14px 16px;display:flex;flex-direction:column;gap:12px;
}
.panel h3{font-size:14px;font-weight:700}

/* Stationery（小ボタン） */
.st-row{display:flex;gap:12px}
.st-btn{
  width:var(--st-icon);height:var(--st-icon);padding:6px;
  border:1px solid var(--line);background:#fff;border-radius:10px;object-fit:contain;
}

/* Zoom / Opacity（見た目のみ） */
.z-row{display:flex;align-items:center;gap:12px}
.ghost{
  display:inline-flex;align-items:center;justify-content:center;
  width:26px;height:26px;border:1px solid var(--line);border-radius:8px;background:#fff;
}
.bar{
  position:relative;flex:1;height:6px;border:1px solid var(--line);
  border-radius:999px;background:linear-gradient(90deg,#dcd6cf,#a8a19b);
}
.bar i{
  position:absolute;top:-5px;left:20%;width:14px;height:14px;
  background:#fff;border:1px solid var(--line);border-radius:50%;
}
.ghost-btn{padding:6px 10px;border:1px solid var(--line);background:#fff;border-radius:8px}
.note{font-size:12px;color:#777}

/* Color */
.swatches{display:grid;grid-template-columns:repeat(5,28px);gap:10px}
.swatches div{width:28px;height:28px;border-radius:8px;border:1px solid var(--line)}
.color-actions{display:flex;gap:8px}

/* Layers（白カード＋縦アイコン2列） */
/* Layer Panel */
.layer-wrap{
  display:grid;
  grid-template-columns: 1fr 32px 32px; /* 左：カード / 中：縦アイコン / 右：縦アイコン */
  gap:12px;
  align-items:start;
}
.layer-card{
  height:180px; /* 必要なら高さ調整 */
  background:#fff;
  border:1px solid var(--line);
  border-radius:18px;
}
.layer-side,
.layer-tool{
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
}
.layer-side img{width:22px;height:22px;object-fit:contain}
.layer-tool img{width:24px;height:24px;object-fit:contain}
/* Responsive */
@media (max-width:1024px){
  .main{grid-template-columns:1fr}
  .right-grid{grid-template-columns:1fr}
  .contents-row{justify-content:flex-start}
}
/* ===== Contents panel（希望の小カード） ===== */
.panel-contents{
  padding:10px 12px;                /* コンパクトに */
  display:block;
}

.panel-contents .contents-tiles{
  display:flex; align-items:center; justify-content:flex-end;
  gap:8px; flex-wrap:wrap;
}

/* アイコンタイルは既存の .tile を再利用。見た目を少しだけ詰める */
.panel-contents .tile{
  width: var(--icon);
  height: var(--icon);
  padding:6px;
  background: var(--tile);
  border:1px solid var(--line);
  border-radius:10px;
  object-fit:contain;
}

/* 2段目に折り返した時も右端に寄るように */
@media (max-width: 1280px){
  .panel-contents .contents-tiles{ justify-content:flex-start; }
}
