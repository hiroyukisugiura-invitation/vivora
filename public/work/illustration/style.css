/* 固定レイアウト：1280×820（スクショと同比率） */
:root{
  --w: 1280px;
  --h: 820px;
  --rows: 70;               /* Y分割 */
  --bg: #f0ede7;            /* 上部帯の雰囲気に近い下地 */
  --ink: #1a1a1a;
  --line: rgba(0,0,0,.08);
  --line-10: rgba(0,0,0,.18);
}

* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; background: #e9e6e0; color: var(--ink); font-family: "Helvetica Neue", Arial, sans-serif; }

.workarea{
  position: relative;
  width: var(--w);
  height: var(--h);
  margin: 8px auto;
  background: #fff;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,.15);
  border-radius: 6px;
}

/* グリッド（1x1）と10マス目の濃線 */
.grid{
  position: absolute; inset: 0;
  background:
    /* 10マスごと濃線 */
    linear-gradient(to right, var(--line-10) 1px, transparent 1px) 0 0 / calc(10% ) 100%,
    linear-gradient(to bottom, var(--line-10) 1px, transparent 1px) 0 0 / 100% calc(100%/7),
    /* 1マス */
    linear-gradient(to right, var(--line) 1px, transparent 1px) 0 0 / 1% 100%,
    linear-gradient(to bottom, var(--line) 1px, transparent 1px) 0 0 / 100% calc(100%/var(--rows));
  pointer-events: none;
  opacity: .7;
}

/* 目盛り（簡易） */
.ruler::before,
.ruler::after{
  content: "";
  position: absolute; inset: 0;
  border-top: 32px solid var(--bg);       /* 上帯 */
  border-right: 32px solid var(--bg);     /* 右帯 */
  pointer-events: none;
  opacity: .9;
}
/* メモリの小目盛り */
.ruler{
  position: absolute; inset: 0; pointer-events: none;
  background:
    linear-gradient(to right, rgba(0,0,0,.2) 1px, transparent 1px) 0 30px / 10% 2px no-repeat,
    linear-gradient(to bottom, rgba(0,0,0,.2) 1px, transparent 1px) calc(100% - 30px) 0 / 2px calc(100%/7) no-repeat;
  border-radius: 6px;
}

/* 汎用：グリッド絶対配置（--x, --y, --w, --h を使用） */
.abs{
  position: absolute;
  left: calc(var(--x,0) * 1%);
  top:  calc(var(--y,0) * (100% / var(--rows)));
  width:  calc(var(--w,0) * 1%);
  height: calc(var(--h,0) * (100% / var(--rows)));
  display: flex; align-items: center; justify-content: flex-start;
}

/* タイトル */
.title{
  font-size: 18px; letter-spacing: .3px; font-weight: 600; color: #2a2a2a;
}

/* Next Step */
.next-btn{
  width: 100%; height: 100%;
  font: 600 14px/1.2 system-ui, sans-serif;
  color: #333; background: #f4f0ea; border: 1px solid #cfc7bb; border-radius: 4px;
  cursor: pointer;
}

/* カテゴリーバー */
.category-bar{ gap: .6rem; align-items: center; }
.icon.sq{
  width: calc(100% / 12); height: 100%;
  border: 1px solid #bdb5a7; border-radius: 4px; background: #f7f4ee;
}

/* キャンバス */
.canvas{
  background: #fafafa;
  border: 1px solid #d6d0c6;
  border-radius: 14px;
  padding: 0;
  overflow: hidden;
}

/* 透明度スライダー（キャンバス上の小UI） */
.opacity-wrap{
  gap: 8px; align-items: center; justify-content: center;
  background: rgba(255,255,255,.9);
  border: 1px solid rgba(0,0,0,.15);
  border-radius: 6px; padding: 6px 10px;
}
.opacity{ width: 70%; }
.pct{ font-size: 12px; color: #555; }

/* マネキン */
.mannequin{ justify-content: center; align-items: center; }
.mannequin img{
  max-width: 100%; max-height: 100%; object-fit: contain; opacity: .9; filter: contrast(1.05) sepia(.05);
}

/* DL/UP/SAVE */
.dus{ display: flex; gap: .4rem; align-items: center; }
.dus .sq{ width: calc(100% / 3 - .3rem); height: 100%; }

/* レイヤーパネル */
.layer-top, .layer-bottom{ display: flex; gap: .4rem; align-items: center; }
.layer-top .sq, .layer-bottom .sq{
  width: calc(100% / 4 - .35rem); height: 100%;
  border: 1px solid #bdb5a7; border-radius: 4px; background: #f7f4ee;
}

/* 真ん中ボード */
.layer-board{
  background: #f3efe8; border: 1px solid #cfc7bb; border-radius: 6px; padding: 6px;
  display: grid; grid-auto-rows: minmax(22px, 1fr); gap: 6px;
}
.layer-row{ display: grid; grid-template-columns: 18px 18px 18px 1fr; gap: 6px; align-items: center; }
.layer-row .mini.icon{ width: 18px; height: 18px; border: 1px solid #bdb5a7; border-radius: 4px; background: #fff; }
.layer-row .mini.thumb{ height: 18px; border: 1px dashed #bdb5a7; border-radius: 4px; }

/* ステーショナリーツール */
.toolbox{ display: grid; grid-auto-rows: 1fr; gap: 6px; }
.toolbox .tool{
  border: 1px solid #bdb5a7; border-radius: 6px; background: #f7f4ee;
}

/* カラーパレット */
.palette{ display: grid; grid-auto-rows: 1fr; gap: 6px; align-content: start; }
.palette .dot{
  width: 100%; height: 100%;
  border-radius: 999px; border: 1px solid rgba(0,0,0,.2);
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(0,0,0,.06));
}
