/* ====== 全体レイアウト（固定 1280×820 / 100×68 グリッド） ====== */
:root{
  --w: 1280px;
  --h: 820px;
  --bg: #e8e2d9;        /* スクショの淡いベージュ */
  --panel: #efeae2;
  --ink: #111;
  --line: #d6d1ca;
  --white: #fff;
  --radius: 10px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  font-family: "Times New Roman", 'Hiragino Kaku Gothic ProN', Arial, sans-serif;
}

.stage{
  width: var(--w);
  height: var(--h);
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(100, 1fr); /* X 軸（0.01Wごとの等分） */
  grid-template-rows: repeat(68, 1fr);     /* Y 軸（0.01H相当に近い等分） */
  gap: 0;
  position: relative;
}

/* ====== タイトル（X:3-22 , Y:3-3） ====== */
.title{
  grid-column: 3 / 22;
  grid-row: 3 / 4;                   /* Y:3-3 は1行分＝3/4 */
  margin: 0;
  align-self: center;
  font-size: 20px;                   /* スクショの小ぶりなサイズ感 */
  font-weight: 600;
}

/* ====== Next Step（X:95-98 , Y:4-4） ====== */
.next-btn{
  grid-column: 95 / 99;
  grid-row: 4 / 5;
  justify-self: end;
  align-self: center;
  padding: 6px 10px;
  border: 1px solid var(--line);
  border-radius: 8px;
  background: var(--panel);
  cursor: pointer;
}

/* ====== カテゴリーボタン（X:81-98 , Y:6-7） ====== */
.category-bar{
  grid-column: 81 / 99;
  grid-row: 6 / 8;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
}
.category-bar button{
  padding: 6px 10px;
  border: 1px solid var(--line);
  border-radius: 8px;
  background: var(--panel);
  cursor: pointer;
  font-size: 12px;
}

/* ====== キャンバス（X:3-87 , Y:10-68） ====== */
.draw-canvas{
  grid-column: 3 / 88;
  grid-row: 10 / 69;
  background: var(--white);
  border: 1px solid var(--line);
  border-radius: 12px;
  position: relative;

  /* 内部ミニグリッド（マネキン厳密配置用） */
  display: grid;
  grid-template-columns: repeat(100, 1fr);
  grid-template-rows: repeat(100, 1fr);
}

/* マネキン：X:38-51 , Y:19-61 をキャンバス内部 100×100 で再現 */
.mannequin{
  grid-column: 38 / 52;   /* 終点は+1表現 */
  grid-row: 19 / 62;
  align-self: stretch;
  justify-self: stretch;
  width: 100%;
  height: 100%;
  object-fit: contain;
  opacity: 0.95;
  filter: drop-shadow(0 0 0 rgba(0,0,0,0)); /* 見た目だけ合わせ、影なし */
}

/* ====== D/U/S（X:94-98 , Y:10-10） ====== */
.dus-group{
  grid-column: 94 / 99;
  grid-row: 10 / 11;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
}
.icon-btn{
  width: 28px;
  height: 28px;
  padding: 2px;
  border: 1px solid var(--line);
  border-radius: 6px;
  background: var(--panel);
  display: grid;
  place-items: center;
  cursor: pointer;
}
.icon-btn img{ width: 18px; height: 18px; object-fit: contain; }

/* ====== レイヤーパネル：上3つ（表示/非表示/ロック） ====== */
.layer-icon{
  width: 28px; height: 28px;
  border: 1px solid var(--line);
  border-radius: 6px;
  background: var(--panel);
  display: grid; place-items: center;
}
.layer-icon.show  { grid-column: 90 / 91; grid-row: 13 / 14; background: url("/public/create_parts/layer_button/layerdisplay.png") center/18px no-repeat var(--panel); }
.layer-icon.hidden{ grid-column: 91 / 92; grid-row: 13 / 14; background: url("/public/create_parts/layer_button/layerhidden.png")  center/18px no-repeat var(--panel); }
.layer-icon.lock  { grid-column: 93 / 94; grid-row: 13 / 14; background: url("/public/create_parts/layer_button/layerlock.png")    center/18px no-repeat var(--panel); }

/* ====== レイヤーボード（X:90-94 , Y:14-19） ====== */
.layer-board{
  grid-column: 90 / 95;
  grid-row: 14 / 20;
  display: grid;
  grid-template-rows: repeat(5, 1fr); /* 5枠 */
  gap: 8px;
  padding: 6px;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
}
.layer-card{
  background: var(--white);
  border: 1px solid var(--line);
  border-radius: 8px;
}

/* ====== 下4つ（X:90..93 , Y:20） ====== */
.layer-ctrl{
  width: 28px; height: 28px;
  border: 1px solid var(--line);
  border-radius: 6px;
  background: var(--panel);
  display: grid; place-items: center;
}
.layer-ctrl.add   { grid-column: 90 / 91; grid-row: 20 / 21; background: url("/public/create_parts/layer_button/layerpanelplus.png")       center/18px no-repeat var(--panel); }
.layer-ctrl.merge { grid-column: 91 / 92; grid-row: 20 / 21; background: url("/public/create_parts/layer_button/layerreproduction.png")   center/18px no-repeat var(--panel); }
.layer-ctrl.copy  { grid-column: 92 / 93; grid-row: 20 / 21; background: url("/public/create_parts/layer_button/layercopy.png")           center/18px no-repeat var(--panel); }
.layer-ctrl.del   { grid-column: 93 / 94; grid-row: 20 / 21; background: url("/public/create_parts/layer_button/layerdestruction.png")    center/18px no-repeat var(--panel); }

/* ====== ステーショナリーツール（X:96-98 , Y:12-39） ====== */
.stationery{
  grid-column: 96 / 99;
  grid-row: 12 / 40;
  display: grid;
  grid-auto-rows: 34px;
  gap: 10px;
  padding: 8px;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  align-content: start;
}
.stationery .tool{
  width: 34px; height: 34px;
  border: 1px solid var(--line);
  border-radius: 8px;
  background: #fff;
  display: grid; place-items: center;
  padding: 4px;
  cursor: pointer;
}
.stationery .tool img{ width: 22px; height: 22px; object-fit: contain; }

/* ====== カラーパレット（X:96-98 , Y:41-68） ====== */
.palette{
  grid-column: 96 / 99;
  grid-row: 41 / 69;
  display: grid;
  grid-template-columns: 1fr;
  grid-auto-rows: 28px;
  gap: 8px;
  padding: 10px 8px;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  align-content: start;
}
.swatch{
  width: 34px; height: 28px;
  border-radius: 16px;
  border: 1px solid var(--line);
  background: var(--c, #000);
  cursor: pointer;
}

/* ====== 透明度スライダー（X:81-86 , Y:34-35.5） ====== */
.opacity-slider{
  grid-column: 81 / 87;
  grid-row: 34 / 36;  /* 35.5 ≒ 36 として近似配置 */
  display: grid;
  grid-template-columns: max-content 1fr max-content;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 10px;
  visibility: hidden; /* 初期非表示（ツール選択で表示想定） */
}
.opacity-slider[aria-hidden="false"]{ visibility: visible; }
.opacity-slider input[type="range"]{ width: 100%; }

/* ====== ユーティリティ ====== */
button{ appearance: none; }
