<!-- illustration.html (HTML+js) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vivora Fashion Illustration 2025</title>
  <link rel="preload" href="webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- 固定ボード：100×70 グリッド / 1280×820px を基準にスケール -->
  <div id="board">
    <!-- タイトル：X:3-22 , Y:4-4 -->
    <h1 class="cell" style="--x1:3; --x2:22; --y1:4; --y2:4;">Vivora Fashion Illustration 2025</h1>

    <!-- コンテンツボタン列：X:73.5-93 , Y:4-5 -->
    <div class="cell contents-row" style="--x1:73.5; --x2:93; --y1:4; --y2:5;">
      <img src="create_parts/contents_button/0_home.png" alt="home">
      <img src="create_parts/contents_button/1_fashion-illustrations.png" alt="illustrations">
      <img src="create_parts/contents_button/2_fabric-matching.png" alt="fabric-matching">
      <img src="create_parts/contents_button/3_clothing-design.png" alt="clothing-design">
      <img src="create_parts/contents_button/4_pattern-creation.png" alt="pattern-creation">
      <img src="create_parts/contents_button/5_grading.png" alt="grading">
      <img src="create_parts/contents_button/6_print-layout-cut.png" alt="print-layout-cut">
    </div>

    <!-- IO（Upload/Download/Save）：X:97-97 , Y:8-12 縦配置 -->
    <div class="cell io-stack" style="--x1:97; --x2:97; --y1:8; --y2:12;">
      <button class="icon-btn"><img src="create_parts/create_button/upload.png" alt="upload"></button>
      <button class="icon-btn"><img src="create_parts/create_button/download.png" alt="download"></button>
      <button class="icon-btn"><img src="create_parts/create_button/save.png" alt="save"></button>
    </div>

    <!-- キャンバス：X:3-93 , Y:8-68 -->
    <div id="canvas" class="cell" style="--x1:3; --x2:93; --y1:8; --y2:68;">
      <!-- マネキン：X:42-54 , Y:17-60（キャンバス内グリッドで中央配置） -->
      <img id="mannequin" src="mannequin/mannequin_woman/mannequin_woman_front.png" alt="mannequin">
      <!-- 透明度スライダー（選択時表示）：X:86-92 , Y:36-37.5（キャンバス座標） -->
      <div id="opacityHud" class="hud">
        <span id="opacityValue">100%</span>
        <input id="opacityRange" type="range" min="0" max="100" value="100" />
      </div>
    </div>

    <!-- ステーショナリーツール：X:96-98 , Y:14-39（縦ツールバー） -->
    <nav class="cell tools" style="--x1:96; --x2:98; --y1:14; --y2:39;">
      <button class="tool"><img src="create_parts/object_btn/select.png" alt="select"></button>
      <button class="tool"><img src="create_parts/object_btn/direct_select.png" alt="direct select"></button>
      <button class="tool"><img src="create_parts/object_btn/square.png" alt="square"></button>
      <button class="tool"><img src="create_parts/object_btn/circle.png" alt="circle"></button>
      <button class="tool"><img src="create_parts/object_btn/brush.png" alt="brush"></button>
      <button class="tool"><img src="create_parts/object_btn/pen.png" alt="pen"></button>
      <button class="tool"><img src="create_parts/object_btn/circlebrush.png" alt="circle brush"></button>
      <button class="tool"><img src="create_parts/object_btn/ballpointpen.png" alt="ballpoint"></button>
      <button class="tool"><img src="create_parts/object_btn/markerpen.png" alt="marker"></button>
      <button class="tool"><img src="create_parts/object_btn/eraser.png" alt="eraser"></button>
      <button class="tool"><img src="create_parts/object_btn/sentence.png" alt="text"></button>
      <button class="tool"><img src="create_parts/object_btn/opasity_ber.png" alt="opacity"></button>
      <button class="tool"><img src="create_parts/object_btn/graph_paper.png" alt="grid"></button>
    </nav>

    <!-- カラーパレット：X:96-98 , Y:41-68 -->
    <div class="cell palette" style="--x1:96; --x2:98; --y1:41; --y2:68;">
      <img src="color/pad color/white.png" alt="white">
      <img src="color/pad color/light gray.png" alt="light gray">
      <img src="color/pad color/dark gray.png" alt="dark gray">
      <img src="color/pad color/black.png" alt="black">
      <img src="color/pad color/yellow.png" alt="yellow">
      <img src="color/pad color/lime.png" alt="lime">
      <img src="color/pad color/green.png" alt="green">
      <img src="color/pad color/sky blue.png" alt="sky blue">
      <img src="color/pad color/blue.png" alt="blue">
      <img src="color/pad color/purple.png" alt="purple">
      <img src="color/pad color/pink.png" alt="pink">
      <img src="color/pad color/red.png" alt="red">
      <img src="color/pad color/orange.png" alt="orange">
      <img src="color/pad color/brown.png" alt="brown">
    </div>
  </div>

  <script>
    // ===== スケール制御：ボード（1280×820）をビューポートに100%表示 =====
    (function fitBoard() {
      const board = document.getElementById('board');
      const BASE_W = 1280, BASE_H = 820;
      function apply() {
        const vw = window.innerWidth, vh = window.innerHeight;
        const scale = Math.min(vw / BASE_W, vh / BASE_H);
        board.style.setProperty('--scale', scale);
      }
      window.addEventListener('resize', apply, { passive: true });
      apply();
    })();

    // ===== 透明度HUD：ツール「opacity」相当の簡易表示 =====
    const opacityHud = document.getElementById('opacityHud');
    const opacityRange = document.getElementById('opacityRange');
    const opacityValue = document.getElementById('opacityValue');
    const mannequin = document.getElementById('mannequin');

    // 初期表示（常時表示にしておく：UI確認のため）
    opacityHud.classList.add('show');

    opacityRange.addEventListener('input', () => {
      const v = Number(opacityRange.value);
      mannequin.style.opacity = (v / 100).toFixed(2);
      opacityValue.textContent = v + '%';
    });

    // ===== キャンバス内配置（グリッド座標 → px） =====
    // キャンバス内も 100×70 の内部比例基準を仮定し、指定座標にHUDを配置
    (function placeHudInCanvas() {
      const canvas = document.getElementById('canvas');
      const CAN_W = canvas.clientWidth;
      const CAN_H = canvas.clientHeight;

      function posFromGrid(x1, y1, x2, y2) {
        // グリッドは 100×70
        const gridW = CAN_W / 100;
        const gridH = CAN_H / 70;
        const left = x1 * gridW;
        const top  = y1 * gridH;
        const width  = (x2 - x1) * gridW;
        const height = (y2 - y1) * gridH;
        return { left, top, width, height };
      }

      // 透明度スライダー：X:86-92 , Y:36-37.5
      const r = posFromGrid(86, 36, 92, 37.5);
      opacityHud.style.left = `${r.left}px`;
      opacityHud.style.top  = `${r.top}px`;
      opacityHud.style.width = `${r.width}px`;
    })();
  </script>
</body>
</html>
