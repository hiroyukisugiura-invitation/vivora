<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vivora Fashion Illustration 2025</title>

  <!-- フォント（見出し：Playfair、UI：Inter） -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <!-- 本ページ専用スタイル -->
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <!-- =========================================================
       Wrap：ページ最大幅コントローラ（コンテンツ中央寄せ）
       ========================================================= -->
  <div class="wrap">

    <!-- =========================================================
         TOP BAR（タイトル＋上部各種ボタン）
         - 画像通り：左にタイトル、中央にGender＆History＆2D/3D、右にNext
         ========================================================= -->
    <header class="top-bar">
      <!-- タイトル -->
      <h1 class="page-title">Vivora Fashion Illustration 2025</h1>

      <!-- 上部ボタン群（左右に分布しつつ、行が崩れても折り返しOK） -->
      <div class="top-controls">
        <!-- Gender Switch（Woman/Man/Kids） -->
        <div class="gender-switch" role="tablist" aria-label="Gender switch">
          <button class="btn-gender active" data-gender="woman" aria-selected="true">Woman</button>
          <button class="btn-gender" data-gender="man">Man</button>
          <button class="btn-gender" data-gender="kids">Kids</button>
        </div>

        <!-- History Tool（Undo/Redo/Reset/Save/Upload/Download/Grid） -->
        <div class="history-tool" aria-label="History tool">
          <button class="tool-btn" title="Undo"     type="button"><img src="../../create_parts/create_button/retreat.png"       alt="Undo"    draggable="false"></button>
          <button class="tool-btn" title="Redo"     type="button"><img src="../../create_parts/create_button/forward.png"       alt="Redo"    draggable="false"></button>
          <button class="tool-btn" title="Reset"    type="button" id="btn-reset"><img src="../../create_parts/create_button/reset.png"         alt="Reset"   draggable="false"></button>
          <button class="tool-btn" title="Save"     type="button"><img src="../../create_parts/create_button/save.png"          alt="Save"    draggable="false"></button>
          <button class="tool-btn" title="Upload"   type="button"><img src="../../create_parts/create_button/upload.png"        alt="Upload"  draggable="false"></button>
          <button class="tool-btn" title="Download" type="button"><img src="../../create_parts/create_button/download.png"      alt="Download"draggable="false"></button>
          <button class="tool-btn" title="Grid"     type="button" id="grid-toggle"><img src="../../create_parts/create_button/graph_paper.png" alt="Grid"    draggable="false"></button>
        </div>

        <!-- 2D/3D（中央寄り） -->
        <div class="mode-switch">
          <button class="btn-mode active" data-mode="2d">2D</button>
          <button class="btn-mode" data-mode="3d">3D</button>
        </div>

        <!-- Next（右端） -->
        <div class="next-button">
          <button type="button">Next Step »»</button>
        </div>
      </div>
    </header>

    <!-- =========================================================
         WORKSPACE（左＝Canvas / 右＝Sidebar）
         - 参照画像の「巨大キャンバス」と「右の2列構成」を再現
         ========================================================= -->
    <main class="workspace">

      <!-- ======================
           Canvas（巨大白カード）
           ====================== -->
      <section class="canvas" id="canvas">
        <!-- マネキン画像（初期：Woman） -->
        <img id="mannequin" class="mannequin-base" src="../../mannequin/mannequin_woman.png" alt="Mannequin" />
        <!-- Grid用オーバーレイ（toggleクラスで表示切替） -->
        <div class="grid-overlay" aria-hidden="true"></div>
      </section>

      <!-- ======================
           Sidebar（右縦：2列構成）
           - 左：Layer Rail（縦3スロット＋各スロット右に5アイコン）
           - 右：Panel Stack（Stationery / Zoom / Opacity / Color）
           ====================== -->
      <aside class="sidebar">
        <div class="sidebar-grid">
          <!-- ---- 左：Layer Rail ---- -->
          <div class="layer-rail">
            <!-- スロット1 -->
            <div class="rail-slot">
              <div class="slot-box"></div>
              <div class="slot-icons">
                <img src="../../create_parts/layer_button/layerlock.png"          alt="Lock">
                <img src="../../create_parts/layer_button/layerpanelplus.png"     alt="Add">
                <img src="../../create_parts/layer_button/layerdisplay.png"       alt="Visible">
                <img src="../../create_parts/layer_button/layerreproduction.png"  alt="Duplicate">
                <img src="../../create_parts/layer_button/layerdestruction.png"   alt="Delete">
              </div>
            </div>
            <!-- スロット2 -->
            <div class="rail-slot">
              <div class="slot-box"></div>
              <div class="slot-icons">
                <img src="../../create_parts/layer_button/layerlock.png"          alt="Lock">
                <img src="../../create_parts/layer_button/layerpanelplus.png"     alt="Add">
                <img src="../../create_parts/layer_button/layerdisplay.png"       alt="Visible">
                <img src="../../create_parts/layer_button/layerreproduction.png"  alt="Duplicate">
                <img src="../../create_parts/layer_button/layerdestruction.png"   alt="Delete">
              </div>
            </div>
            <!-- スロット3 -->
            <div class="rail-slot">
              <div class="slot-box"></div>
              <div class="slot-icons">
                <img src="../../create_parts/layer_button/layerlock.png"          alt="Lock">
                <img src="../../create_parts/layer_button/layerpanelplus.png"     alt="Add">
                <img src="../../create_parts/layer_button/layerdisplay.png"       alt="Visible">
                <img src="../../create_parts/layer_button/layerreproduction.png"  alt="Duplicate">
                <img src="../../create_parts/layer_button/layerdestruction.png"   alt="Delete">
              </div>
            </div>
          </div>

          <!-- ---- 右：Panel Stack ---- -->
          <div class="panel-stack">

            <!-- Contents（上部アイコン行） -->
            <section class="tool-section contents">
              <div class="contents-button" aria-label="Contents">
                <img src="../../create_parts/contents_button/0_home.png"                       alt="Home" />
                <img src="../../create_parts/contents_button/1_fashion-illustrations.png"      alt="Illustrations" />
                <img src="../../create_parts/contents_button/2_fabric-matching.png"            alt="Fabric" />
                <img src="../../create_parts/contents_button/3_clothing-design.png"            alt="Clothing" />
                <img src="../../create_parts/contents_button/4_pattern-creation.png"           alt="Pattern" />
                <img src="../../create_parts/contents_button/5_grading.png"                    alt="Grading" />
                <img src="../../create_parts/contents_button/6_print-layout-cut.png"           alt="Print/Cut" />
                <img src="../../create_parts/contents_button/digital-dressing-kids-mode.png"   alt="Kids Mode" />
              </div>
            </section>

            <!-- Stationery（12アイコン） -->
            <section class="tool-section stationery">
              <label>Stationery</label>
              <div class="stationery-grid">
                <!-- 参照画像の“上段の4つ＋下段8つ”をグリッドで再現 -->
                <img src="../../create_parts/design_button/direct_select.png"  alt="Direct" >
                <img src="../../create_parts/design_button/markerpen.png"      alt="Marker" >
                <img src="../../create_parts/design_button/sentence.png"       alt="Text"   >
                <img src="../../create_parts/design_button/select.png"         alt="Fill"   >

                <img src="../../create_parts/design_button/ruler.png"          alt="Ruler"  >
                <img src="../../create_parts/design_button/pen.png"            alt="Pen"    >
                <img src="../../create_parts/design_button/brush.png"          alt="Brush"  >
                <img src="../../create_parts/design_button/eraser.png"         alt="Eraser" >

                <img src="../../create_parts/design_button/percent.png"        alt="Percent">
                <img src="../../create_parts/design_button/square.png"         alt="Square" >
                <img src="../../create_parts/design_button/circle.png"         alt="Circle" >
                <img src="../../create_parts/design_button/diagonal.png"       alt="Diag"   >
              </div>
            </section>

            <!-- Zoom -->
            <section class="tool-section zoom">
              <label>Zoom</label>
              <div class="slider-control">
                <button type="button" id="zoom-dec">−</button>
                <input type="range" id="zoomRange" min="50" max="200" value="100">
                <button type="button" id="zoom-inc">＋</button>
                <span id="zoomNum">100%</span>
                <button type="button" class="reset" id="zoom-reset">Reset</button>
              </div>
            </section>

            <!-- Opacity -->
            <section class="tool-section opacity">
              <label>Opacity</label>
              <div class="slider-control">
                <button type="button" id="op-dec">−</button>
                <input type="range" id="opRange" min="10" max="100" value="100">
                <button type="button" id="op-inc">＋</button>
                <span id="opNum">100%</span>
                <button type="button" class="reset" id="op-reset">Reset</button>
              </div>
            </section>

            <!-- Color -->
            <section class="tool-section color">
              <label>Color</label>
              <div class="color-palette">
                <div class="swatches" id="swatches">
                  <!-- 6×3＝18色（参照画像の配色感に寄せたプレースホルダ） -->
                  <div class="color-swatch" style="background:#ffffff"></div>
                  <div class="color-swatch" style="background:#d9d9d9"></div>
                  <div class="color-swatch" style="background:#f4b400"></div>
                  <div class="color-swatch" style="background:#f28b82"></div>
                  <div class="color-swatch" style="background:#fbbc04"></div>
                  <div class="color-swatch" style="background:#fff475"></div>

                  <div class="color-swatch" style="background:#ccff90"></div>
                  <div class="color-swatch" style="background:#a7ffeb"></div>
                  <div class="color-swatch" style="background:#cbf0f8"></div>
                  <div class="color-swatch" style="background:#aecbfa"></div>
                  <div class="color-swatch" style="background:#d7aefb"></div>
                  <div class="color-swatch" style="background:#fdcfe8"></div>

                  <div class="color-swatch" style="background:#e6c9a8"></div>
                  <div class="color-swatch" style="background:#e8eaed"></div>
                  <div class="color-swatch" style="background:#ff5252"></div>
                  <div class="color-swatch" style="background:#d50000"></div>
                  <div class="color-swatch" style="background:#212121"></div>
                  <div class="color-swatch" style="background:#9e9e9e"></div>
                </div>

                <div class="custom-tools">
                  <button>＋</button><button>＋</button><button>＋</button><button>＋</button>
                  <button><img src="../../color/spuit.png" alt="Eyedropper"></button>
                </div>
              </div>
            </section>

          </div><!-- /panel-stack -->
        </div><!-- /sidebar-grid -->
      </aside>
    </main>
  </div><!-- /wrap -->

  <!-- =========================================================
       JS：操作（Gender / Mode / Zoom / Opacity / Grid）
       ========================================================= -->
  <script>
    (function(){
      // 画像パス（Gitの配置に完全準拠）
      const MANNEQUIN = {
        woman: '../../mannequin/mannequin_woman.png',
        man:   '../../mannequin/mannequin_man.png',
        kids:  '../../mannequin/mannequin_kids.png'
      };

      const mannequin = document.getElementById('mannequin');
      const canvas    = document.getElementById('canvas');

      /* ---- Gender Switch：画像差し替え ---- */
      document.querySelectorAll('.btn-gender').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          document.querySelectorAll('.btn-gender').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
          const g = btn.dataset.gender;
          if (MANNEQUIN[g]) mannequin.src = MANNEQUIN[g];
        });
      });

      /* ---- Mode Switch：2D/3D視覚差分（将来Three.jsに差し替え） ---- */
      document.querySelectorAll('.btn-mode').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          document.querySelectorAll('.btn-mode').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
          const mode = btn.dataset.mode;
          if(mode==='3d'){
            mannequin.style.filter = 'drop-shadow(0 8px 20px rgba(0,0,0,.25))';
            mannequin.style.transform = 'scale(1.02)';
          }else{
            mannequin.style.filter = 'none';
            mannequin.style.transform = 'none';
          }
        });
      });

      /* ---- Grid Toggle ---- */
      document.getElementById('grid-toggle')?.addEventListener('click', ()=>{
        canvas.classList.toggle('show-grid');
      });

      /* ---- Zoom ---- */
      const zoomRange = document.getElementById('zoomRange');
      const zoomNum   = document.getElementById('zoomNum');
      document.getElementById('zoom-dec').addEventListener('click', ()=>{ zoomRange.value = Math.max(50,(+zoomRange.value-10)); applyZoom(); });
      document.getElementById('zoom-inc').addEventListener('click', ()=>{ zoomRange.value = Math.min(200,(+zoomRange.value+10)); applyZoom(); });
      document.getElementById('zoom-reset').addEventListener('click', ()=>{ zoomRange.value = 100; applyZoom(); });
      zoomRange.addEventListener('input', applyZoom);
      function applyZoom(){
        const r = +zoomRange.value;
        mannequin.style.transform = `scale(${(r/100).toFixed(2)})`;
        zoomNum.textContent = `${r}%`;
      }

      /* ---- Opacity ---- */
      const opRange = document.getElementById('opRange');
      const opNum   = document.getElementById('opNum');
      document.getElementById('op-dec').addEventListener('click', ()=>{ opRange.value = Math.max(10,(+opRange.value-10)); applyOpacity(); });
      document.getElementById('op-inc').addEventListener('click', ()=>{ opRange.value = Math.min(100,(+opRange.value+10)); applyOpacity(); });
      document.getElementById('op-reset').addEventListener('click', ()=>{ opRange.value = 100; applyOpacity(); });
      opRange.addEventListener('input', applyOpacity);
      function applyOpacity(){
        const v = +opRange.value;
        mannequin.style.opacity = (v/100).toFixed(2);
        opNum.textContent = `${v}%`;
      }

      /* ---- Reset（HistoryのReset） ---- */
      document.getElementById('btn-reset')?.addEventListener('click', ()=>{
        // Gender
        document.querySelectorAll('.btn-gender').forEach(b=>b.classList.remove('active'));
        document.querySelector('.btn-gender[data-gender="woman"]').classList.add('active');
        mannequin.src = MANNEQUIN.woman;

        // Mode
        document.querySelectorAll('.btn-mode').forEach(b=>b.classList.remove('active'));
        document.querySelector('.btn-mode[data-mode="2d"]').classList.add('active');
        mannequin.style.filter = 'none';
        mannequin.style.transform = 'none';

        // Zoom / Opacity
        zoomRange.value = 100; applyZoom();
        opRange.value   = 100; applyOpacity();

        // Grid
        canvas.classList.remove('show-grid');
      });

      // 初期値適用
      applyZoom(); applyOpacity();
    })();
  </script>
</body>
</html>
