<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vivora Fashion Illustration 2025</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="app">
    <!-- Topbar（canvasの外） -->
    <div class="topbar">
      <!-- 左：Next Step + contents（枠なしアイコンだけ） -->
      <div class="topbar-left stack">
        <button id="next-step" class="ghost-btn">Next Step ▶▶</button>
        <nav class="contents-button" aria-label="contents">
          <img src="/create_parts/contents_button/0_home.png"                    alt="Home"  title="Home" />
          <img src="/create_parts/contents_button/1_fashion-illustrations.png"   alt="Fi"    title="Fashion Illustrations" />
          <img src="/create_parts/contents_button/2_fabric-matching.png"         alt="Fm"    title="Fabric Matching" />
          <img src="/create_parts/contents_button/3_clothing-design.png"         alt="Cd"    title="Clothing Design" />
          <img src="/create_parts/contents_button/4_pattern-creation.png"        alt="Pc"    title="Pattern Creation" />
          <img src="/create_parts/contents_button/5_grading.png"                 alt="Gd"    title="Grading" />
          <img src="/create_parts/contents_button/6_print-layout-cut.png"        alt="Plc"   title="Print/Layout/Cut" />
          <img src="/create_parts/contents_button/digital-dressing-kids-mode.png"alt="Dk"    title="Digital Dressing (Kids)" />
        </nav>
      </div>

      <!-- 中央：ページネーム -->
      <h1 class="page-title">Vivora Fashion Illustration 2025</h1>

      <!-- 右：history -->
      <div class="history-tool" aria-label="history">
        <img src="/create_parts/create_button/retreat.png"   alt="Redo"     title="戻る" />
        <img src="/create_parts/create_button/forward.png"   alt="Cycle"    title="進む" />
        <img src="/create_parts/create_button/reset.png"     alt="Undo"     title="リセット" />
        <img src="/create_parts/create_button/download.png"  alt="Download" title="ダウンロード" />
        <img src="/create_parts/create_button/upload.png"    alt="Upload"   title="アップロード" />
        <img src="/create_parts/create_button/save.png"      alt="Save"     title="保存" />
      </div>
    </div>

    <!-- Board（canvas本体） -->
    <div class="board">
      <div class="canvas-wrapper">

        <!-- Stationery（canvas内 右上：画像順に8アイコン） -->
        <div class="stationery-toolbar" aria-label="stationery">
          <img src="/create_parts/object_btn/select.png"        alt="Select" title="選択" />
          <img src="/create_parts/object_btn/square.png"        alt="Square" title="図形" />
          <img src="/create_parts/object_btn/brush.png"         alt="Brush"  title="ペン" />
          <img src="/create_parts/object_btn/eraser.png"        alt="Eraser" title="ケシゴム" />
          <img src="/create_parts/object_btn/sentence.png"      alt="Text"   title="テキスト" />
          <img src="/create_parts/object_btn/opasity_ber.png"   alt="opasity"  title="透明度" />
          <img src="/create_parts/object_btn/graph_paper.png"   alt="Grid"   title="方眼紙" />
          <img src="/create_parts/object_btn/layer.png"         alt="Layer"  title="レイヤー" />
        </div>

        <!-- マネキン（中央） -->
        <img id="mannequin"
             src="/mannequin/mannequin_woman/mannequin_woman_front.png"
             alt="Mannequin (Woman Front)" />
      </div>
    </div>
  </div>

  <!-- 将来の機能フック -->
  <script>
    document.querySelectorAll('.stationery-toolbar img, .history-tool img, .contents-button img')
      .forEach(el => el.addEventListener('click', () => {/* TODO */}));
  </script>
<!-- HTMLは変更不要。既存のJSファイルの末尾に次を追記してください -->
<script>
/** 画面にフィットするスケールを計算してCSS変数に反映 */
(function(){
  const BASE_W = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--base-w')) || 1280;
  const BASE_H = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--base-h')) || 820;
  const MARGIN = 32; // 左右上下の最低余白(px)

  function fitStage(){
    const vw = window.innerWidth  - MARGIN*2;
    const vh = window.innerHeight - MARGIN*2;
    const s  = Math.max(0.5, Math.min(vw/BASE_W, vh/BASE_H)); // 最小0.5倍に制限（必要なら調整）
    document.documentElement.style.setProperty('--app-scale', s);
  }
  window.addEventListener('resize', fitStage, { passive:true });
  window.addEventListener('orientationchange', fitStage, { passive:true });
  document.addEventListener('DOMContentLoaded', fitStage);
})();
</script>
  
</body>
</html>
