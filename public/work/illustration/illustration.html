/* ========== フレームと座標系 ================================================= */
/* 固定フレーム：1280x820px */
.frame{
  position: relative;
  width: 1280px;
  height: 820px;
  margin: 12px auto;
  background: #e9e2d6;             /* ベージュ系の背景 */
  border-radius: 8px;
  box-shadow: 0 0 0 2px #bdb6aa inset;
  font-family: "Times New Roman", Georgia, serif;
  color: #1b1b1b;
}

/* 要素を“座標”で置くための共通クラス
   --x1, --x2 は Xグリッド（0..100）
   --y1, --y2 は Yグリッド（0..70）
   left  = x1%
   right = (100 - x2)%
   top   = y1 * (100%/70)
   bottom= (70 - y2) * (100%/70)
*/
.abs{ position:absolute; }
.zone{
  left:   calc(var(--x1) * 1%);
  right:  calc((100 - var(--x2)) * 1%);
  top:    calc(var(--y1) * (100% / 70));
  bottom: calc((70 - var(--y2)) * (100% / 70));
}

/* ========== タイトル / ヘッダー ============================================= */
h1{
  margin: 0;
  font-size: 18px;
  line-height: 1;
  display: flex; align-items: center;
}
.next-btn{
  font: inherit;
  padding: 4px 10px;
  background:#f2efe8;
  border:1px solid #b9b2a6;
  border-radius: 4px;
  cursor: pointer;
}

/* 右上の小アイコン列 */
.top-toolbar ul,
.io-toolbar ul{
  margin:0; padding:0; list-style:none;
  display:flex; gap:8px; align-items:center; justify-content:flex-end;
}
.ico{
  width:20px; height:20px;
  border:1px solid #8f877a;
  border-radius:4px;
  background:#f6f3ee;
}

/* ダウンロード/アップロード/セーブの小枠 */
.io-toolbar .ico{ width:22px; height:22px; }

/* ========== キャンバス ======================================================= */
.canvas{
  background:#fff;
  border-radius: 12px;
  box-shadow: inset 0 0 0 1px #d6d2c8;
  overflow:hidden;
  position:absolute;
}

/* キャンバス内グリッド（graph-on で有効） */
.canvas.graph-on{
  background:
    linear-gradient(#0000, #0000),
    repeating-linear-gradient(0deg, #e9e9e9 0, #e9e9e9 1px, #ffffff 1px, #ffffff 11px),
    repeating-linear-gradient(90deg, #e9e9e9 0, #e9e9e9 1px, #ffffff 1px, #ffffff 11px);
}

/* マネキン画像 */
.mannequin{
  object-fit: contain;
  pointer-events: none;
  filter: saturate(0.8) contrast(0.95);
}

/* ========== レイヤーUI ======================================================= */
.layer-ops .ico{
  position:absolute;
  transform: translate(-50%, -50%);
  background:#f6f3ee;
}
.layer-board{
  background:#f7f7f7;
  border:1px solid #cfc8ba;
  border-radius:6px;
}

/* ========== ツール縦列 / パレット =========================================== */
.tools-vertical ul{
  position:absolute; inset:0;
  margin:0; padding:8px 6px; list-style:none;
  display:flex; flex-direction:column; gap:8px; align-items:center;
}
.tools-vertical .tool{
  width:22px; height:22px;
  border:1px solid #8f877a; border-radius:6px; background:#fff;
}

.palette ul{
  position:absolute; inset:0;
  margin:0; padding:8px 10px; list-style:none;
  display:flex; flex-direction:column; gap:8px; align-items:center; justify-content:flex-start;
}
.palette li{
  width:20px; height:20px; border-radius:50%;
  border:1px solid #7b7367;
  background: var(--c, #ddd);
}

/* ========== 透明度スライダー（見た目のみ） ================================= */
.opacity-slider{
  display:flex; align-items:center; gap:8px;
}
.opacity-slider .track{
  position:relative; flex:1; height:6px; border-radius:999px;
  background:linear-gradient(to right, rgba(0,0,0,.1), rgba(0,0,0,.6));
}
.opacity-slider .thumb{
  position:absolute; top:50%; transform:translate(-50%, -50%);
  width:14px; height:14px; border-radius:50%;
  background:#fff; border:1px solid #777;
}
.opacity-slider .pct{
  font-size:12px; opacity:.7;
}

/* ========== 補助：フレーム全体に格子を乗せたい時は .grid-on を使う ========== */
.frame.grid-on{
  background:
    linear-gradient(#e9e2d6, #e9e2d6),
    linear-gradient(#0000, #0000),
    repeating-linear-gradient(0deg, rgba(0,0,0,.05) 0, rgba(0,0,0,.05) 1px, #e9e2d6 1px, #e9e2d6 18px),
    repeating-linear-gradient(90deg, rgba(0,0,0,.05) 0, rgba(0,0,0,.05) 1px, #e9e2d6 1px, #e9e2d6 18px);
  background-blend-mode: normal, normal, multiply, multiply;
}
